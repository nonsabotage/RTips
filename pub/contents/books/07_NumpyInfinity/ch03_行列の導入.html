<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.515">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>R Tips - 行列の導入</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../contents/books/07_NumpyInfinity/ch04_テンソルと画像処理.html" rel="next">
<link href="../../../contents/books/07_NumpyInfinity/ch02_numpyの導入.html" rel="prev">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;800&amp;display=swap" rel="stylesheet">


<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">R Tips</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-home" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Home</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-home">    
        <li>
    <a class="dropdown-item" href="../../../index.html">
 <span class="dropdown-text">Home</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-web-site" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Web Site</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-web-site">    
        <li class="dropdown-header">R</li>
        <li>
    <a class="dropdown-item" href="../../../contents/website/r4ds2e/index.html">
 <span class="dropdown-text">R for Data Science 2e</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/website/leaflet4r/index.html">
 <span class="dropdown-text">Leaflet for R</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/website/analizeUSCensus/index.html">
 <span class="dropdown-text">Analyzing US Census Data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/website/graphic_design_with_ggplot2/index.html">
 <span class="dropdown-text">Graphic Design with ggplot2</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-books" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">books</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-books">    
        <li class="dropdown-header">R</li>
        <li>
    <a class="dropdown-item" href="../../../contents/books/01_Rによる実証分析_2e/index.html">
 <span class="dropdown-text">Rによる実証分析2e</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/books/02_因果推論ミックステープ/index.html">
 <span class="dropdown-text">因果推論ミックステープ</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/books/03_数値シミュレーションで身につける統計の仕組み/index.html">
 <span class="dropdown-text">数値シミュレーションで学ぶ統計の仕組み</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/books/05_統計的因果推論の理論と実際/index.html">
 <span class="dropdown-text">統計的因果推論の理論と実際</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Python</li>
        <li>
    <a class="dropdown-item" href="../../../contents/books/06_Pythonではじめる数理最適化/index.html">
 <span class="dropdown-text">Pythonではじめる数理最適化 2nd</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/books/07_NumpyInfinity/ch01_Pythonの基礎.html">
 <span class="dropdown-text">Numpy Infinity</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/books/08_handbook_lightgbm/cl02_データ理解.html">
 <span class="dropdown-text">LightGBMハンドブック</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-libs" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">libs</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-libs">    
        <li class="dropdown-header">R</li>
        <li>
    <a class="dropdown-item" href="../../../contents/libs/base/working.html">
 <span class="dropdown-text">base</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/libs/ggtext/working.html">
 <span class="dropdown-text">ggtext</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/libs/ggfittext/working.html">
 <span class="dropdown-text">ggfittext</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/libs/gganimate/working.html">
 <span class="dropdown-text">gganimate</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/libs/ggmosaic/working.html">
 <span class="dropdown-text">ggmosaic</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/libs/treemapify/working.html">
 <span class="dropdown-text">treemapify</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/libs/corrr/working.html">
 <span class="dropdown-text">corrr</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/libs/ComplexHeatmap/working.html">
 <span class="dropdown-text">ComplexHeatmap</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/libs/GGally/working.html">
 <span class="dropdown-text">GGally</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/libs/sf/working.html">
 <span class="dropdown-text">sf</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/libs/igraph/index.html">
 <span class="dropdown-text">igraph</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/libs/patchwork/working.html">
 <span class="dropdown-text">pathcwork</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/libs/ggspatial/working.html">
 <span class="dropdown-text">ggspatial</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/libs/duckdb/working.html">
 <span class="dropdown-text">duckdb</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/libs/DBI/working.html">
 <span class="dropdown-text">DBI</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Python</li>
        <li>
    <a class="dropdown-item" href="../../../contents/libs/pydantic/index.html">
 <span class="dropdown-text">pydantic</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/libs/pandera/index.html">
 <span class="dropdown-text">pandera</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-notes" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Notes</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-notes">    
        <li class="dropdown-header">Notes</li>
        <li>
    <a class="dropdown-item" href="../../../contents/notes/ggplot2/working.html">
 <span class="dropdown-text">ggplot2</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-utils" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Utils</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-utils">    
        <li class="dropdown-header">Utils</li>
        <li>
    <a class="dropdown-item" href="../../../contents/utils/01_写真GPS/index.html">
 <span class="dropdown-text">01_写真GPS</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-sql" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">sql</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-sql">    
        <li class="dropdown-header">DuckDB</li>
        <li>
    <a class="dropdown-item" href="../../../contents/sql/duckdb/documentaion/index.html">
 <span class="dropdown-text">Documentaion</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/sql/duckdb/sql-bigdata/index.html">
 <span class="dropdown-text">ビッグデータレシピ</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/sql/duckdb/mytips/01_.html">
 <span class="dropdown-text">My Tips</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/sql/duckdb/SpatialDataAnalysiswithDuckDB/working.html">
 <span class="dropdown-text">Spatial DataAnalysis with DuckDB</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-test" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Test</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-test">    
        <li class="dropdown-header">Test</li>
        <li>
    <a class="dropdown-item" href="../../../contents/test/bash/quick_sample.html">
 <span class="dropdown-text">Bash</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/test/R/renv.html">
 <span class="dropdown-text">R</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/test/R2/renv.html">
 <span class="dropdown-text">R2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../contents/test/python/notebook.html">
 <span class="dropdown-text">Python</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Python</li><li class="breadcrumb-item"><a href="../../../contents/books/07_NumpyInfinity/ch01_Pythonの基礎.html">Numpy Infinity</a></li><li class="breadcrumb-item"><a href="../../../contents/books/07_NumpyInfinity/ch03_行列の導入.html">行列の導入</a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
 <span class="menu-text">Rによる実証分析2e</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/01_Rによる実証分析_2e/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/01_Rによる実証分析_2e/ch01_回帰分析の目的.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch01 回帰分析の目的</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/01_Rによる実証分析_2e/ch02_統計の基礎知識.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch02 統計の基礎知識</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/01_Rによる実証分析_2e/ch03_確率論の基礎.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch03 確率論の基礎</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/01_Rによる実証分析_2e/ch04_回帰分析の基礎.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch04 回帰分析の基礎</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/01_Rによる実証分析_2e/ch05_推測統計の基礎.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch05 推測統計の基礎</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/01_Rによる実証分析_2e/ch06_相関関係と因果関係.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch06 相関関係と因果関係</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/01_Rによる実証分析_2e/ch07_外生変数と内生変数.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch07 内生変数と外生変数</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/01_Rによる実証分析_2e/ch08_ランダム化実験.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch08 ランダム化実験</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/01_Rによる実証分析_2e/ch09_マッチング法.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch09 マッチング法</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/01_Rによる実証分析_2e/ch10_回帰不連続デザイン.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch10 回帰不連続デザイン</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/01_Rによる実証分析_2e/ch11_操作変数法.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch11 操作変数法</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/01_Rによる実証分析_2e/ch12_パネルデータ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch12 パネルデータ</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
 <span class="menu-text">因果推論ミックステープ</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/02_因果推論ミックステープ/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/02_因果推論ミックステープ/ch01_導入.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch01 導入</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/02_因果推論ミックステープ/ch02_確率と回帰の概要.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch02 確率と回帰の概要</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/02_因果推論ミックステープ/ch03_非巡回的有向グラフ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch03 非巡回的有向グラフ</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/02_因果推論ミックステープ/ch04_潜在アウトカム因果モデル.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch04 潜在アウトカム因果モデル</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/02_因果推論ミックステープ/ch05_マッチングと層別化.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch05 マッチングと層別化</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/02_因果推論ミックステープ/ch06_回帰不連続デザイン.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch06 回帰不連続デザイン</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/02_因果推論ミックステープ/ch07_操作変数.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch07 操作変数</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/02_因果推論ミックステープ/ch08_パネルデータ.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch08 パネルデータ</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/02_因果推論ミックステープ/ch09_差分の差デザイン.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch09 差分の差デザイン</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/02_因果推論ミックステープ/ch10_合成コントロール法.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch10 合成コントロール</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/02_因果推論ミックステープ/ch11_結論.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch11 結論</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
 <span class="menu-text">数値シミュレーションで学ぶ統計の仕組み</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/03_数値シミュレーションで身につける統計の仕組み/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/03_数値シミュレーションで身につける統計の仕組み/ch01_本書の狙い.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch01 本書のねらい</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/03_数値シミュレーションで身につける統計の仕組み/ch02_プログラミングの基礎.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch02 プログラミングの基礎</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/03_数値シミュレーションで身につける統計の仕組み/ch03_乱数生成シミュレーションの基礎.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch03 乱数生成シミュレーションの基礎</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/03_数値シミュレーションで身につける統計の仕組み/ch04_母数の推定のシミュレーション.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch04 母数の推定</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/03_数値シミュレーションで身につける統計の仕組み/ch05_統計検定の論理とエラー確率のコントロール - コピー (2).html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch05 統計検定の論理</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/03_数値シミュレーションで身につける統計の仕組み/ch06_適切な検定のためのサンプルサイズ設計.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch06 サンプルサイズ</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/03_数値シミュレーションで身につける統計の仕組み/ch07_回帰分析とシミュレーション.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ch07 回帰分析</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">
 <span class="menu-text">統計的因果推論の理論と実際</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/05_統計的因果推論の理論と実際/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/05_統計的因果推論の理論と実際/101_統計的因果推論の基礎の基礎.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">基礎の基礎</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/05_統計的因果推論の理論と実際/102_潜在的結果変数の枠組み.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">潜在的結果変数の枠組み</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/05_統計的因果推論の理論と実際/103_統計的因果推論における重要な仮定.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">重要な仮定</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/05_統計的因果推論の理論と実際/104_推測統計の基礎：標準誤差と信頼区間.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">標準誤差と信頼区間</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/05_統計的因果推論の理論と実際/105_回帰分析の基礎.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">回帰分析の基礎</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/05_統計的因果推論の理論と実際/106_図で理解する重回帰モデルの基礎.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">重回帰分析の基礎</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/05_統計的因果推論の理論と実際/107_最小二乗法による重回帰モデルの仮定と診断1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">最小二乗法の仮定と診断1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/05_統計的因果推論の理論と実際/108_最小二乗法による重回帰モデルの仮定と診断2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">最小二乗法の仮定と診断2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/05_統計的因果推論の理論と実際/109_交互作用項のある共分散分析.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">交互作用項のある共分散分析</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/05_統計的因果推論の理論と実際/110_傾向スコア.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">傾向スコア</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/05_統計的因果推論の理論と実際/111_傾向スコアマッチング.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">傾向スコアマッチング</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/05_統計的因果推論の理論と実際/112_傾向スコアによる層化解析法および重み付き法.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">傾向スコアによる層化解析法および重み付き法</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/05_統計的因果推論の理論と実際/113_操作変数法の基礎.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">操作変数法の基礎</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/05_統計的因果推論の理論と実際/114_操作変数法による非遵守への対処.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">操作変数の非遵守への対処</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/05_統計的因果推論の理論と実際/115_回帰不連続デザインの基礎.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">回帰不連続デザイン</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/05_統計的因果推論の理論と実際/119_欠測データ処理の基礎.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">欠損データ処理</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
 <span class="menu-text">Python</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false">
 <span class="menu-text">Pythonではじめる数理最適化 2nd</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/06_Pythonではじめる数理最適化/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/06_Pythonではじめる数理最適化/ch02_チュートリアル.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">数理最適化チュートリアル</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/06_Pythonではじめる数理最適化/ch03_学校のクラス編成.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">学校のクラス編成</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/06_Pythonではじめる数理最適化/ch04_クーポン.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">クーポン</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/06_Pythonではじめる数理最適化/ch05_配送計画.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">配送計画</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true">
 <span class="menu-text">Numpy Infinity</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/07_NumpyInfinity/ch01_Pythonの基礎.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pythonの基礎</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/07_NumpyInfinity/ch02_numpyの導入.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">numpyの導入</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/07_NumpyInfinity/ch03_行列の導入.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">行列の導入</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/07_NumpyInfinity/ch04_テンソルと画像処理.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">テンソルと画像処理</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/07_NumpyInfinity/ch04_テンソルと画像処理_Q52.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Q52：セピア化</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/07_NumpyInfinity/ch04_テンソルと画像処理_Q72.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Q84：CMYK色空間</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/07_NumpyInfinity/ch05_ブロードキャストの応用.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ブロードキャストの応用</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="false">
 <span class="menu-text">LightGBMハンドブック</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/08_handbook_lightgbm/cl02_データ理解.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Setup</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/08_handbook_lightgbm/cl03_分類の予測モデル.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">はじめに</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../contents/books/08_handbook_lightgbm/cl04_回帰の予測モデル改善.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">はじめに</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#学ぶこと" id="toc-学ぶこと" class="nav-link active" data-scroll-target="#学ぶこと"><span class="header-section-number">1</span> 学ぶこと</a></li>
  <li><a href="#配列の結合" id="toc-配列の結合" class="nav-link" data-scroll-target="#配列の結合"><span class="header-section-number">2</span> 配列の結合</a>
  <ul class="collapse">
  <li><a href="#concatenate" id="toc-concatenate" class="nav-link" data-scroll-target="#concatenate"><span class="header-section-number">2.1</span> concatenate</a></li>
  <li><a href="#ベストプラクティス" id="toc-ベストプラクティス" class="nav-link" data-scroll-target="#ベストプラクティス"><span class="header-section-number">2.2</span> ベストプラクティス</a></li>
  </ul></li>
  <li><a href="#numpy配列の分割" id="toc-numpy配列の分割" class="nav-link" data-scroll-target="#numpy配列の分割"><span class="header-section-number">3</span> NumPy配列の分割</a>
  <ul class="collapse">
  <li><a href="#スライス" id="toc-スライス" class="nav-link" data-scroll-target="#スライス"><span class="header-section-number">3.1</span> スライス</a></li>
  <li><a href="#np.split" id="toc-np.split" class="nav-link" data-scroll-target="#np.split"><span class="header-section-number">3.2</span> np.split</a></li>
  </ul></li>
  <li><a href="#多次元リストと多次元配列" id="toc-多次元リストと多次元配列" class="nav-link" data-scroll-target="#多次元リストと多次元配列"><span class="header-section-number">4</span> 多次元リストと多次元配列</a>
  <ul class="collapse">
  <li><a href="#行列の積み上げ" id="toc-行列の積み上げ" class="nav-link" data-scroll-target="#行列の積み上げ"><span class="header-section-number">4.1</span> 行列の積み上げ</a></li>
  </ul></li>
  <li><a href="#多次元配列のスライスの解釈" id="toc-多次元配列のスライスの解釈" class="nav-link" data-scroll-target="#多次元配列のスライスの解釈"><span class="header-section-number">5</span> 多次元配列のスライスの解釈</a>
  <ul class="collapse">
  <li><a href="#行と列が反転したときのスライス" id="toc-行と列が反転したときのスライス" class="nav-link" data-scroll-target="#行と列が反転したときのスライス"><span class="header-section-number">5.1</span> 行と列が反転したときのスライス</a></li>
  <li><a href="#スライスと識別子" id="toc-スライスと識別子" class="nav-link" data-scroll-target="#スライスと識別子"><span class="header-section-number">5.2</span> スライスと識別子</a></li>
  </ul></li>
  <li><a href="#numpy配列のshape" id="toc-numpy配列のshape" class="nav-link" data-scroll-target="#numpy配列のshape"><span class="header-section-number">6</span> NumPy配列のshape</a></li>
  <li><a href="#集約関数" id="toc-集約関数" class="nav-link" data-scroll-target="#集約関数"><span class="header-section-number">7</span> 集約関数</a></li>
  <li><a href="#多次元配列と集約関数のaxis" id="toc-多次元配列と集約関数のaxis" class="nav-link" data-scroll-target="#多次元配列と集約関数のaxis"><span class="header-section-number">8</span> 多次元配列と集約関数のaxis</a></li>
  <li><a href="#多次元配列の次元" id="toc-多次元配列の次元" class="nav-link" data-scroll-target="#多次元配列の次元"><span class="header-section-number">9</span> 多次元配列の次元</a></li>
  <li><a href="#多次元配列化出来ないリストのリスト" id="toc-多次元配列化出来ないリストのリスト" class="nav-link" data-scroll-target="#多次元配列化出来ないリストのリスト"><span class="header-section-number">10</span> 多次元配列化出来ない「リストのリスト」</a></li>
  <li><a href="#配列の結合でのaxis" id="toc-配列の結合でのaxis" class="nav-link" data-scroll-target="#配列の結合でのaxis"><span class="header-section-number">11</span> 配列の結合でのaxis</a></li>
  <li><a href="#行列の導入" id="toc-行列の導入" class="nav-link" data-scroll-target="#行列の導入"><span class="header-section-number">12</span> 行列の導入</a></li>
  <li><a href="#演習問題" id="toc-演習問題" class="nav-link" data-scroll-target="#演習問題"><span class="header-section-number">13</span> 演習問題</a>
  <ul class="collapse">
  <li><a href="#q1np.concatenate" id="toc-q1np.concatenate" class="nav-link" data-scroll-target="#q1np.concatenate"><span class="header-section-number">13.1</span> q1:np.concatenate</a></li>
  <li><a href="#q2np.stack" id="toc-q2np.stack" class="nav-link" data-scroll-target="#q2np.stack"><span class="header-section-number">13.2</span> q2:np.stack</a></li>
  <li><a href="#q3スライスのshape" id="toc-q3スライスのshape" class="nav-link" data-scroll-target="#q3スライスのshape"><span class="header-section-number">13.3</span> q3:スライスのshape</a></li>
  <li><a href="#q4ベクトルの結合" id="toc-q4ベクトルの結合" class="nav-link" data-scroll-target="#q4ベクトルの結合"><span class="header-section-number">13.4</span> q4:ベクトルの結合</a></li>
  <li><a href="#q5ベクトルの行列化１" id="toc-q5ベクトルの行列化１" class="nav-link" data-scroll-target="#q5ベクトルの行列化１"><span class="header-section-number">13.5</span> q5:ベクトルの行列化（１）</a></li>
  <li><a href="#q6ベクトルの行列化" id="toc-q6ベクトルの行列化" class="nav-link" data-scroll-target="#q6ベクトルの行列化"><span class="header-section-number">13.6</span> q6:ベクトルの行列化</a></li>
  <li><a href="#q8分散と標準偏差" id="toc-q8分散と標準偏差" class="nav-link" data-scroll-target="#q8分散と標準偏差"><span class="header-section-number">13.7</span> q8:分散と標準偏差</a></li>
  <li><a href="#q9平均値と中央時" id="toc-q9平均値と中央時" class="nav-link" data-scroll-target="#q9平均値と中央時"><span class="header-section-number">13.8</span> q9:平均値と中央時</a></li>
  <li><a href="#q10-ポケモンの分析" id="toc-q10-ポケモンの分析" class="nav-link" data-scroll-target="#q10-ポケモンの分析"><span class="header-section-number">13.9</span> q10: ポケモンの分析</a></li>
  <li><a href="#q11種族値合計" id="toc-q11種族値合計" class="nav-link" data-scroll-target="#q11種族値合計"><span class="header-section-number">13.10</span> q11:種族値合計</a></li>
  <li><a href="#q12種族値の集約" id="toc-q12種族値の集約" class="nav-link" data-scroll-target="#q12種族値の集約"><span class="header-section-number">13.11</span> q12:種族値の集約</a></li>
  <li><a href="#q13種族値のランキング" id="toc-q13種族値のランキング" class="nav-link" data-scroll-target="#q13種族値のランキング"><span class="header-section-number">13.12</span> q13:種族値のランキング</a></li>
  <li><a href="#q15-偏差値ソート" id="toc-q15-偏差値ソート" class="nav-link" data-scroll-target="#q15-偏差値ソート"><span class="header-section-number">13.13</span> q15: 偏差値ソート</a></li>
  <li><a href="#q18コサイン類似度" id="toc-q18コサイン類似度" class="nav-link" data-scroll-target="#q18コサイン類似度"><span class="header-section-number">13.14</span> q18：コサイン類似度</a></li>
  <li><a href="#q19画像入門" id="toc-q19画像入門" class="nav-link" data-scroll-target="#q19画像入門"><span class="header-section-number">13.15</span> q19:画像入門</a></li>
  <li><a href="#q20行列積の可換性" id="toc-q20行列積の可換性" class="nav-link" data-scroll-target="#q20行列積の可換性"><span class="header-section-number">13.16</span> q20:行列積の可換性</a></li>
  <li><a href="#q22あんこ商店" id="toc-q22あんこ商店" class="nav-link" data-scroll-target="#q22あんこ商店"><span class="header-section-number">13.17</span> q22:あんこ商店</a></li>
  <li><a href="#q23アファイン変換入門" id="toc-q23アファイン変換入門" class="nav-link" data-scroll-target="#q23アファイン変換入門"><span class="header-section-number">13.18</span> q23:アファイン変換入門</a></li>
  <li><a href="#q24アファイン変換ー回転" id="toc-q24アファイン変換ー回転" class="nav-link" data-scroll-target="#q24アファイン変換ー回転"><span class="header-section-number">13.19</span> q24:アファイン変換ー回転</a></li>
  <li><a href="#q25-せん断変形" id="toc-q25-せん断変形" class="nav-link" data-scroll-target="#q25-せん断変形"><span class="header-section-number">13.20</span> q25: せん断変形</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Python</li><li class="breadcrumb-item"><a href="../../../contents/books/07_NumpyInfinity/ch01_Pythonの基礎.html">Numpy Infinity</a></li><li class="breadcrumb-item"><a href="../../../contents/books/07_NumpyInfinity/ch03_行列の導入.html">行列の導入</a></li></ol></nav>
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">行列の導入</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li></ul></div></div>
</div>



<div class="quarto-title-meta column-body">

    
  
    
  </div>
  


</header>


<section id="学ぶこと" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="学ぶこと"><span class="header-section-number">1</span> 学ぶこと</h2>
<ul>
<li>NumPy配列の結合：concatenate, stack</li>
<li>NumPy配列のshapeとaxis, 集約関数</li>
<li>行列積の導入</li>
</ul>
</section>
<section id="配列の結合" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="配列の結合"><span class="header-section-number">2</span> 配列の結合</h2>
<section id="concatenate" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="concatenate"><span class="header-section-number">2.1</span> concatenate</h3>
<div id="cell-4" class="cell" data-execution_count="1">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a>a <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb1-2"><a href="#cb1-2"></a>b <span class="op">=</span> [<span class="dv">100</span>, <span class="dv">101</span>, <span class="dv">102</span>]</span>
<span id="cb1-3"><a href="#cb1-3"></a>a <span class="op">+</span> b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="1">
<pre><code>[1, 2, 3, 100, 101, 102]</code></pre>
</div>
</div>
<div id="cell-5" class="cell" data-execution_count="2">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a>a.append(b)</span>
<span id="cb3-2"><a href="#cb3-2"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="2">
<pre><code>[1, 2, 3, [100, 101, 102]]</code></pre>
</div>
</div>
<div id="cell-6" class="cell" data-execution_count="3">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb5-2"><a href="#cb5-2"></a></span>
<span id="cb5-3"><a href="#cb5-3"></a>x <span class="op">=</span> np.array([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>])</span>
<span id="cb5-4"><a href="#cb5-4"></a>y <span class="op">=</span> np.array([<span class="dv">100</span>, <span class="dv">101</span>, <span class="dv">102</span>])</span>
<span id="cb5-5"><a href="#cb5-5"></a></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="co"># numpyでは関数を使う</span></span>
<span id="cb5-7"><a href="#cb5-7"></a>np.concatenate([x, y])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="3">
<pre><code>array([  1,   2,   3, 100, 101, 102])</code></pre>
</div>
</div>
<div id="cell-7" class="cell" data-execution_count="4">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1"></a>np.concatenate([x, x, y])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>array([  1,   2,   3,   1,   2,   3, 100, 101, 102])</code></pre>
</div>
</div>
<div id="cell-8" class="cell" data-execution_count="5">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1"></a>np.concatenate([x] <span class="op">*</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>array([1, 2, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3])</code></pre>
</div>
</div>
<div id="cell-9" class="cell" data-execution_count="6">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1"></a>np.array([x] <span class="op">*</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>array([[1, 2, 3],
       [1, 2, 3],
       [1, 2, 3],
       [1, 2, 3]])</code></pre>
</div>
</div>
</section>
<section id="ベストプラクティス" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="ベストプラクティス"><span class="header-section-number">2.2</span> ベストプラクティス</h3>
<p>appendを使ってリストにためてからnp.arrayを適用するのと，np.concatenateでNumpy配列を結合するのではどちらが早いのだろうか?</p>
<div id="cell-11" class="cell" data-execution_count="7">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1"></a><span class="im">from</span> mypy.mymodule <span class="im">import</span> TimeExecute</span>
<span id="cb13-2"><a href="#cb13-2"></a></span>
<span id="cb13-3"><a href="#cb13-3"></a>chunk_size <span class="op">=</span> <span class="dv">100</span></span>
<span id="cb13-4"><a href="#cb13-4"></a><span class="kw">def</span> pattern1():</span>
<span id="cb13-5"><a href="#cb13-5"></a>    x <span class="op">=</span> []</span>
<span id="cb13-6"><a href="#cb13-6"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10000</span>):</span>
<span id="cb13-7"><a href="#cb13-7"></a>        <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(chunk_size):</span>
<span id="cb13-8"><a href="#cb13-8"></a>            x.append(j)</span>
<span id="cb13-9"><a href="#cb13-9"></a>    x<span class="op">=</span> np.array(x)</span>
<span id="cb13-10"><a href="#cb13-10"></a></span>
<span id="cb13-11"><a href="#cb13-11"></a><span class="kw">def</span> pattern2():</span>
<span id="cb13-12"><a href="#cb13-12"></a>    x <span class="op">=</span> []</span>
<span id="cb13-13"><a href="#cb13-13"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10000</span>):</span>
<span id="cb13-14"><a href="#cb13-14"></a>        x <span class="op">+=</span> <span class="bu">list</span>(<span class="bu">range</span>(chunk_size))</span>
<span id="cb13-15"><a href="#cb13-15"></a>    x <span class="op">=</span> np.array(x)</span>
<span id="cb13-16"><a href="#cb13-16"></a></span>
<span id="cb13-17"><a href="#cb13-17"></a><span class="kw">def</span> pattern3():</span>
<span id="cb13-18"><a href="#cb13-18"></a>    x <span class="op">=</span> []</span>
<span id="cb13-19"><a href="#cb13-19"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10000</span>):</span>
<span id="cb13-20"><a href="#cb13-20"></a>        x.append(np.arange(chunk_size))</span>
<span id="cb13-21"><a href="#cb13-21"></a>    x <span class="op">=</span> np.concatenate(x)</span>
<span id="cb13-22"><a href="#cb13-22"></a></span>
<span id="cb13-23"><a href="#cb13-23"></a><span class="kw">def</span> pattern4():</span>
<span id="cb13-24"><a href="#cb13-24"></a>    x <span class="op">=</span> np.array([])</span>
<span id="cb13-25"><a href="#cb13-25"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10000</span>):</span>
<span id="cb13-26"><a href="#cb13-26"></a>        x <span class="op">=</span> np.concatenate([x, np.arange(chunk_size)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-12" class="cell" data-execution_count="8">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1"></a><span class="cf">with</span> TimeExecute():</span>
<span id="cb14-2"><a href="#cb14-2"></a>    pattern1()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>114.722 [msec]</code></pre>
</div>
</div>
<div id="cell-13" class="cell" data-execution_count="9">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1"></a><span class="cf">with</span> TimeExecute():</span>
<span id="cb16-2"><a href="#cb16-2"></a>    pattern2()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>85.800 [msec]</code></pre>
</div>
</div>
<div id="cell-14" class="cell" data-execution_count="10">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1"></a><span class="cf">with</span> TimeExecute():</span>
<span id="cb18-2"><a href="#cb18-2"></a>    pattern3()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>15.957 [msec]</code></pre>
</div>
</div>
<div id="cell-15" class="cell" data-execution_count="11">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1"></a><span class="cf">with</span> TimeExecute():</span>
<span id="cb20-2"><a href="#cb20-2"></a>    pattern4()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>13,534.473 [msec]</code></pre>
</div>
</div>
<p>基本的にはpattern3, つまりNumPy配列をリストに入れる作業の後に， まとめて結合させるのが良い． chunk_sizeが小さい場合には他のpatternが優勢なときもある.</p>
<p>配列は要素の結合などのように素数が変化する処理には向いていないため， 結合回数を少なくすることがよい.</p>
</section>
</section>
<section id="numpy配列の分割" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="numpy配列の分割"><span class="header-section-number">3</span> NumPy配列の分割</h2>
<section id="スライス" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="スライス"><span class="header-section-number">3.1</span> スライス</h3>
<p>普通に働くので省略.</p>
</section>
<section id="np.split" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="np.split"><span class="header-section-number">3.2</span> np.split</h3>
<p>あまり使う機会はあにが指定した数に要素を当分する.</p>
<div id="cell-21" class="cell" data-execution_count="12">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1"></a>x    <span class="op">=</span> np.arange(<span class="dv">8</span>)</span>
<span id="cb22-2"><a href="#cb22-2"></a>a, b <span class="op">=</span> np.split(x, <span class="dv">2</span>)</span>
<span id="cb22-3"><a href="#cb22-3"></a><span class="bu">print</span>(a)</span>
<span id="cb22-4"><a href="#cb22-4"></a><span class="bu">print</span>(b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[0 1 2 3]
[4 5 6 7]</code></pre>
</div>
</div>
</section>
</section>
<section id="多次元リストと多次元配列" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="多次元リストと多次元配列"><span class="header-section-number">4</span> 多次元リストと多次元配列</h2>
<div id="cell-23" class="cell" data-execution_count="13">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1"></a>x <span class="op">=</span> np.array([np.arange(<span class="dv">1</span>, <span class="dv">4</span>)] <span class="op">*</span> <span class="dv">4</span>) <span class="op">+</span> np.array(np.arange(<span class="dv">4</span>) <span class="op">*</span> <span class="dv">10</span>).reshape(<span class="dv">4</span>, <span class="dv">1</span>)</span>
<span id="cb24-2"><a href="#cb24-2"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="13">
<pre><code>array([[ 1,  2,  3],
       [11, 12, 13],
       [21, 22, 23],
       [31, 32, 33]])</code></pre>
</div>
</div>
<div id="cell-24" class="cell" data-execution_count="14">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1"></a><span class="co"># 1行目</span></span>
<span id="cb26-2"><a href="#cb26-2"></a>x[<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>array([1, 2, 3])</code></pre>
</div>
</div>
<div id="cell-25" class="cell" data-execution_count="15">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1"></a><span class="co"># 1列目</span></span>
<span id="cb28-2"><a href="#cb28-2"></a>x[:, <span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="15">
<pre><code>array([ 1, 11, 21, 31])</code></pre>
</div>
</div>
<div id="cell-26" class="cell" data-execution_count="16">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1"></a><span class="co"># 1要素</span></span>
<span id="cb30-2"><a href="#cb30-2"></a>x[<span class="dv">0</span>,<span class="dv">0</span>], x[<span class="dv">0</span>][<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="16">
<pre><code>(1, 1)</code></pre>
</div>
</div>
<div id="cell-27" class="cell" data-execution_count="17">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1"></a><span class="co"># 1要素を配列で</span></span>
<span id="cb32-2"><a href="#cb32-2"></a>x[<span class="dv">0</span>, <span class="dv">0</span>:<span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="17">
<pre><code>array([1])</code></pre>
</div>
</div>
<section id="行列の積み上げ" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="行列の積み上げ"><span class="header-section-number">4.1</span> 行列の積み上げ</h3>
<p>np.concatenateは末尾への結合であったが，np.stackは配列を積み重ねていくことが可能である.</p>
<div id="cell-29" class="cell" data-execution_count="18">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1"></a>x1 <span class="op">=</span> np.arange(<span class="dv">3</span>)</span>
<span id="cb34-2"><a href="#cb34-2"></a>x2 <span class="op">=</span> <span class="dv">3</span> <span class="op">+</span> np.arange(<span class="dv">3</span>)</span>
<span id="cb34-3"><a href="#cb34-3"></a>np.concatenate([x1, x2])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="18">
<pre><code>array([0, 1, 2, 3, 4, 5])</code></pre>
</div>
</div>
<div id="cell-30" class="cell" data-execution_count="19">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1"></a>np.stack([x1, x2])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>array([[0, 1, 2],
       [3, 4, 5]])</code></pre>
</div>
</div>
</section>
</section>
<section id="多次元配列のスライスの解釈" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="多次元配列のスライスの解釈"><span class="header-section-number">5</span> 多次元配列のスライスの解釈</h2>
<div id="cell-32" class="cell" data-execution_count="20">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1"></a>anko_sell <span class="op">=</span> np.array([[<span class="dv">100</span>, <span class="dv">50</span>, <span class="dv">50</span>], [<span class="dv">50</span>, <span class="dv">30</span>, <span class="dv">100</span>],[<span class="dv">50</span>, <span class="dv">50</span>, <span class="dv">70</span>], [<span class="dv">100</span>, <span class="dv">50</span>, <span class="dv">100</span>]])</span>
<span id="cb38-2"><a href="#cb38-2"></a>anko_sell</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="20">
<pre><code>array([[100,  50,  50],
       [ 50,  30, 100],
       [ 50,  50,  70],
       [100,  50, 100]])</code></pre>
</div>
</div>
<div id="cell-33" class="cell" data-execution_count="21">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1"></a>anko_sell[<span class="dv">0</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="21">
<pre><code>array([100,  50,  50])</code></pre>
</div>
</div>
<div id="cell-34" class="cell" data-execution_count="22">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1"></a>anko_sell[:, <span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>array([100,  50,  50, 100])</code></pre>
</div>
</div>
<div id="cell-35" class="cell" data-execution_count="23">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1"></a>anko_sell[::<span class="dv">2</span>, ::]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="23">
<pre><code>array([[100,  50,  50],
       [ 50,  50,  70]])</code></pre>
</div>
</div>
<section id="行と列が反転したときのスライス" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="行と列が反転したときのスライス"><span class="header-section-number">5.1</span> 行と列が反転したときのスライス</h3>
<div id="cell-37" class="cell" data-execution_count="24">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1"></a>annko_vertical <span class="op">=</span> anko_sell.T</span>
<span id="cb46-2"><a href="#cb46-2"></a>annko_vertical</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="24">
<pre><code>array([[100,  50,  50, 100],
       [ 50,  30,  50,  50],
       [ 50, 100,  70, 100]])</code></pre>
</div>
</div>
</section>
<section id="スライスと識別子" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="スライスと識別子"><span class="header-section-number">5.2</span> スライスと識別子</h3>
<p>スライスしたときに作成されるのは元の変数のViewである．</p>
<p>スライスで作ったViewと元の変数は識別しが異なる，ということになる.</p>
<p>ただし配列を抜けるとそれは数値になるので，そこでも識別子は異なる.</p>
<div id="cell-39" class="cell" data-execution_count="25">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1"></a>x <span class="op">=</span> np.arange(<span class="dv">5</span>)</span>
<span id="cb48-2"><a href="#cb48-2"></a><span class="bu">print</span>(<span class="bu">id</span>(x[::]))</span>
<span id="cb48-3"><a href="#cb48-3"></a><span class="bu">print</span>(<span class="bu">id</span>(x[:]))</span>
<span id="cb48-4"><a href="#cb48-4"></a><span class="bu">print</span>(<span class="bu">id</span>(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>2627982381584
2627982381584
2627982384544</code></pre>
</div>
</div>
<div id="cell-40" class="cell" data-execution_count="26">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1"></a>x <span class="op">=</span> np.array([[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], [<span class="dv">11</span>, <span class="dv">12</span>, <span class="dv">13</span>], [<span class="dv">21</span>, <span class="dv">22</span>, <span class="dv">23</span>]])</span>
<span id="cb50-2"><a href="#cb50-2"></a><span class="bu">print</span>(<span class="bu">id</span>(x[<span class="dv">1</span>,::]))</span>
<span id="cb50-3"><a href="#cb50-3"></a><span class="bu">print</span>(<span class="bu">id</span>(x[<span class="dv">1</span>,:]))</span>
<span id="cb50-4"><a href="#cb50-4"></a><span class="bu">print</span>(<span class="bu">id</span>(x[<span class="dv">1</span>,<span class="dv">1</span>]))</span>
<span id="cb50-5"><a href="#cb50-5"></a><span class="bu">print</span>(<span class="bu">id</span>(x[<span class="dv">1</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>2627982384544
2627982384544
2627981811504
2627982384544</code></pre>
</div>
</div>
</section>
</section>
<section id="numpy配列のshape" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="numpy配列のshape"><span class="header-section-number">6</span> NumPy配列のshape</h2>
<div id="cell-42" class="cell" data-execution_count="27">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1"></a>x <span class="op">=</span> np.arange(<span class="dv">5</span>)</span>
<span id="cb52-2"><a href="#cb52-2"></a><span class="bu">print</span>(x.shape)</span>
<span id="cb52-3"><a href="#cb52-3"></a><span class="bu">print</span>(<span class="bu">len</span>(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>(5,)
5</code></pre>
</div>
</div>
<div id="cell-43" class="cell" data-execution_count="28">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1"></a>x <span class="op">=</span> np.array([[<span class="dv">1</span>,<span class="dv">2</span>], [<span class="dv">3</span>,<span class="dv">4</span>], [<span class="dv">5</span>,<span class="dv">6</span>]])</span>
<span id="cb54-2"><a href="#cb54-2"></a><span class="bu">print</span>(x.shape)</span>
<span id="cb54-3"><a href="#cb54-3"></a><span class="bu">print</span>(<span class="bu">len</span>(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>(3, 2)
3</code></pre>
</div>
</div>
</section>
<section id="集約関数" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="集約関数"><span class="header-section-number">7</span> 集約関数</h2>
<div id="cell-45" class="cell" data-execution_count="29">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1"></a>x <span class="op">=</span> np.array([<span class="dv">16</span>, <span class="dv">12</span>, <span class="dv">12</span>, <span class="dv">11</span>, <span class="dv">11</span>])</span>
<span id="cb56-2"><a href="#cb56-2"></a><span class="bu">print</span>(np.<span class="bu">sum</span>(x)) <span class="co"># 62</span></span>
<span id="cb56-3"><a href="#cb56-3"></a><span class="bu">print</span>(np.prod(x)) <span class="co"># 278784p</span></span>
<span id="cb56-4"><a href="#cb56-4"></a>ｐrint(np.mean(x)) <span class="co"># 12.4</span></span>
<span id="cb56-5"><a href="#cb56-5"></a><span class="bu">print</span>(np.std(x)) <span class="co"># 1.8547236990991407</span></span>
<span id="cb56-6"><a href="#cb56-6"></a><span class="bu">print</span>(np.median(x)) <span class="co"># 12.0</span></span>
<span id="cb56-7"><a href="#cb56-7"></a><span class="bu">print</span>(<span class="bu">len</span>(x)) <span class="co"># 5</span></span>
<span id="cb56-8"><a href="#cb56-8"></a><span class="bu">print</span>(np.<span class="bu">max</span>(x)) <span class="co"># 16</span></span>
<span id="cb56-9"><a href="#cb56-9"></a><span class="bu">print</span>(np.<span class="bu">min</span>(x)) <span class="co"># 11</span></span>
<span id="cb56-10"><a href="#cb56-10"></a><span class="bu">print</span>(np.argmax(x)) </span>
<span id="cb56-11"><a href="#cb56-11"></a><span class="bu">print</span>(np.argmin(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>62
278784
12.4
1.8547236990991407
12.0
5
16
11
0
3</code></pre>
</div>
</div>
<p>集約関数ではないが，いわゆる最大値の管理，最小値の管理とう面で活用出来るのがnp.maxmium/minimumである．これらの関数はnp.clipと等価である.</p>
<div id="cell-47" class="cell" data-execution_count="30">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1"></a>x <span class="op">=</span> np.arange(<span class="dv">10</span>)</span>
<span id="cb58-2"><a href="#cb58-2"></a><span class="bu">print</span>(np.maximum(np.minimum(x, <span class="dv">7</span>), <span class="dv">3</span>)) <span class="co"># [3 3 3 3 4 5 6 7 7 7]</span></span>
<span id="cb58-3"><a href="#cb58-3"></a><span class="bu">print</span>(np.minimum(np.maximum(x, <span class="dv">3</span>), <span class="dv">7</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[3 3 3 3 4 5 6 7 7 7]
[3 3 3 3 4 5 6 7 7 7]</code></pre>
</div>
</div>
<div id="cell-48" class="cell" data-execution_count="31">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1"></a>np.clip(x, <span class="dv">3</span>, <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="31">
<pre><code>array([3, 3, 3, 3, 4, 5, 6, 7, 7, 7])</code></pre>
</div>
</div>
</section>
<section id="多次元配列と集約関数のaxis" class="level2" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="多次元配列と集約関数のaxis"><span class="header-section-number">8</span> 多次元配列と集約関数のaxis</h2>
<div id="cell-50" class="cell" data-execution_count="32">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1"></a>anko_sell <span class="op">=</span> np.array(</span>
<span id="cb62-2"><a href="#cb62-2"></a>    [[<span class="dv">100</span>, <span class="dv">50</span>, <span class="dv">50</span>], [<span class="dv">50</span>, <span class="dv">30</span>, <span class="dv">100</span>],[<span class="dv">50</span>, <span class="dv">50</span>, <span class="dv">70</span>], [<span class="dv">100</span>, <span class="dv">50</span>, <span class="dv">100</span>]])</span>
<span id="cb62-3"><a href="#cb62-3"></a><span class="bu">print</span>(np.<span class="bu">sum</span>(anko_sell)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>800</code></pre>
</div>
</div>
<div id="cell-51" class="cell" data-execution_count="33">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1"></a><span class="co"># 月単位</span></span>
<span id="cb64-2"><a href="#cb64-2"></a><span class="bu">print</span>(<span class="st">"月単位"</span>, np.<span class="bu">sum</span>(anko_sell, axis <span class="op">=</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>月単位 [200 180 170 250]</code></pre>
</div>
</div>
<div id="cell-52" class="cell" data-execution_count="34">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1"></a><span class="co"># 商品単位</span></span>
<span id="cb66-2"><a href="#cb66-2"></a><span class="bu">print</span>(<span class="st">"商品単位"</span>, np.<span class="bu">sum</span>(anko_sell, axis <span class="op">=</span> <span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>商品単位 [300 180 320]</code></pre>
</div>
</div>
</section>
<section id="多次元配列の次元" class="level2" data-number="9">
<h2 data-number="9" class="anchored" data-anchor-id="多次元配列の次元"><span class="header-section-number">9</span> 多次元配列の次元</h2>
<p>numpy配列の次元とは<code>len(x.shape)</code>である.</p>
</section>
<section id="多次元配列化出来ないリストのリスト" class="level2" data-number="10">
<h2 data-number="10" class="anchored" data-anchor-id="多次元配列化出来ないリストのリスト"><span class="header-section-number">10</span> 多次元配列化出来ない「リストのリスト」</h2>
<p>リストのリストは通常，NumPyヘア塚しても多次元配列にはならないが，入れ子になった内側のリストの要素数が全て同じ，つまり多次元リストに限定すれば多次元配列となる.</p>
<p>とはいえ，下記とおり思わぬエラーが発生するもとであるので，基本的にはリストのリストか直接多次元配列を作成することはやめておいた方が良い.</p>
<div id="cell-55" class="cell" data-execution_count="35">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1"></a>x <span class="op">=</span> [[<span class="dv">1</span>, <span class="dv">2</span>], [<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>], [<span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>]]</span>
<span id="cb68-2"><a href="#cb68-2"></a><span class="bu">print</span>(x)</span>
<span id="cb68-3"><a href="#cb68-3"></a>x <span class="op">=</span> np.array(x)</span>
<span id="cb68-4"><a href="#cb68-4"></a><span class="bu">print</span>(x) <span class="co"># エラーにはならないが、多次元配列ではない</span></span>
<span id="cb68-5"><a href="#cb68-5"></a><span class="bu">print</span>(x.dtype) <span class="co"># object型になる</span></span>
<span id="cb68-6"><a href="#cb68-6"></a><span class="bu">print</span>(x.shape) <span class="co"># あたかも1次元配列のようにみなされる</span></span>
<span id="cb68-7"><a href="#cb68-7"></a><span class="bu">print</span>(x[:, <span class="dv">1</span>]) <span class="co"># これはエラー</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[[1, 2], [3, 4, 5], [6, 7, 8, 9]]
[list([1, 2]) list([3, 4, 5]) list([6, 7, 8, 9])]
object
(3,)</code></pre>
</div>
<div class="cell-output cell-output-error">
<pre><code>IndexError: too many indices for array: array is 1-dimensional, but 2 were indexed</code></pre>
</div>
</div>
</section>
<section id="配列の結合でのaxis" class="level2" data-number="11">
<h2 data-number="11" class="anchored" data-anchor-id="配列の結合でのaxis"><span class="header-section-number">11</span> 配列の結合でのaxis</h2>
</section>
<section id="行列の導入" class="level2" data-number="12">
<h2 data-number="12" class="anchored" data-anchor-id="行列の導入"><span class="header-section-number">12</span> 行列の導入</h2>
<div id="cell-58" class="cell" data-execution_count="37">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1"></a>sell_amount <span class="op">=</span> np.array([[<span class="dv">20</span>, <span class="dv">10</span>, <span class="dv">15</span>], [<span class="dv">15</span>, <span class="dv">15</span>, <span class="dv">20</span>],[<span class="dv">30</span>, <span class="dv">25</span>, <span class="dv">25</span>]])</span>
<span id="cb71-2"><a href="#cb71-2"></a>price <span class="op">=</span> np.array([<span class="dv">120</span>, <span class="dv">120</span>, <span class="dv">180</span>])</span>
<span id="cb71-3"><a href="#cb71-3"></a><span class="bu">print</span>(price.shape) <span class="co"># (3, )</span></span>
<span id="cb71-4"><a href="#cb71-4"></a>p <span class="op">=</span> np.expand_dims(price, axis<span class="op">=-</span><span class="dv">1</span>) <span class="co"># 行列にするために軸を増やす。要素数1の軸を作る</span></span>
<span id="cb71-5"><a href="#cb71-5"></a><span class="bu">print</span>(p.shape) <span class="co"># (3, 1) これで行列になる</span></span>
<span id="cb71-6"><a href="#cb71-6"></a>result <span class="op">=</span> np.dot(sell_amount, p) <span class="co"># (3, 3) x (3, 1)の行列積</span></span>
<span id="cb71-7"><a href="#cb71-7"></a><span class="bu">print</span>(result.shape) <span class="co"># (3, 1)</span></span>
<span id="cb71-8"><a href="#cb71-8"></a>result <span class="op">=</span> result[:, <span class="dv">0</span>] <span class="co"># 末尾の軸がいらないのでスライス</span></span>
<span id="cb71-9"><a href="#cb71-9"></a><span class="bu">print</span>(result.shape) <span class="co"># (3, ) ベクトルに戻ったprint(result</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>(3,)
(3, 1)
(3, 1)
(3,)</code></pre>
</div>
</div>
</section>
<section id="演習問題" class="level2" data-number="13">
<h2 data-number="13" class="anchored" data-anchor-id="演習問題"><span class="header-section-number">13</span> 演習問題</h2>
<section id="q1np.concatenate" class="level3" data-number="13.1">
<h3 data-number="13.1" class="anchored" data-anchor-id="q1np.concatenate"><span class="header-section-number">13.1</span> q1:np.concatenate</h3>
<div id="cell-60" class="cell" data-execution_count="41">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1"></a>a <span class="op">=</span> np.arange(<span class="dv">5</span>)</span>
<span id="cb73-2"><a href="#cb73-2"></a>b <span class="op">=</span> np.arange(<span class="dv">3</span>)</span>
<span id="cb73-3"><a href="#cb73-3"></a>np.concatenate([a, b])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="41">
<pre><code>array([0, 1, 2, 3, 4, 0, 1, 2])</code></pre>
</div>
</div>
<div id="cell-61" class="cell" data-execution_count="42">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1"></a>a <span class="op">=</span> np.arange(<span class="dv">5</span>)</span>
<span id="cb75-2"><a href="#cb75-2"></a>b <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb75-3"><a href="#cb75-3"></a>np.concatenate([a, b])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>ValueError: all the input arrays must have same number of dimensions, but the array at index 0 has 1 dimension(s) and the array at index 1 has 0 dimension(s)</code></pre>
</div>
</div>
<div id="cell-62" class="cell" data-execution_count="44">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1"></a>a <span class="op">=</span> np.arange(<span class="dv">5</span>)</span>
<span id="cb77-2"><a href="#cb77-2"></a>b <span class="op">=</span> np.arange(<span class="dv">7</span>)</span>
<span id="cb77-3"><a href="#cb77-3"></a>np.concatenate([a,b], axis <span class="op">=</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="44">
<pre><code>array([0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 5, 6])</code></pre>
</div>
</div>
<div id="cell-63" class="cell" data-execution_count="45">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1"></a>np.concatenate([a, b], axis <span class="op">=</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>AxisError: axis 1 is out of bounds for array of dimension 1</code></pre>
</div>
</div>
<div id="cell-64" class="cell" data-execution_count="47">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1"></a>np.concatenate([np.arange(<span class="dv">9</span>) <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="47">
<pre><code>array([0, 1, 2, 3, 4, 5, 6, 7, 8, 0, 1, 2, 3, 4, 5, 6, 7, 8, 0, 1, 2, 3,
       4, 5, 6, 7, 8, 0, 1, 2, 3, 4, 5, 6, 7, 8, 0, 1, 2, 3, 4, 5, 6, 7,
       8, 0, 1, 2, 3, 4, 5, 6, 7, 8, 0, 1, 2, 3, 4, 5, 6, 7, 8, 0, 1, 2,
       3, 4, 5, 6, 7, 8, 0, 1, 2, 3, 4, 5, 6, 7, 8, 0, 1, 2, 3, 4, 5, 6,
       7, 8])</code></pre>
</div>
</div>
</section>
<section id="q2np.stack" class="level3" data-number="13.2">
<h3 data-number="13.2" class="anchored" data-anchor-id="q2np.stack"><span class="header-section-number">13.2</span> q2:np.stack</h3>
<div id="cell-66" class="cell" data-execution_count="48">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1"></a>np.stack([np.arange(<span class="dv">5</span>) <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>)], axis <span class="op">=</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="48">
<pre><code>array([[0, 1, 2, 3, 4],
       [0, 1, 2, 3, 4]])</code></pre>
</div>
</div>
<div id="cell-67" class="cell" data-execution_count="49">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1"></a>np.vstack([np.arange(<span class="dv">5</span>) <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="49">
<pre><code>array([[0, 1, 2, 3, 4],
       [0, 1, 2, 3, 4]])</code></pre>
</div>
</div>
<div id="cell-68" class="cell" data-execution_count="50">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb87-1"><a href="#cb87-1"></a>np.stack([np.arange(<span class="dv">5</span>) <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>)], axis <span class="op">=</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="50">
<pre><code>array([[0, 0],
       [1, 1],
       [2, 2],
       [3, 3],
       [4, 4]])</code></pre>
</div>
</div>
<div id="cell-69" class="cell" data-execution_count="52">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb89-1"><a href="#cb89-1"></a>np.stack([np.arange(i <span class="op">+</span> <span class="dv">2</span>) <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">4</span>)], axis <span class="op">=</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>ValueError: all input arrays must have the same shape</code></pre>
</div>
</div>
<div id="cell-70" class="cell" data-execution_count="54">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb91-1"><a href="#cb91-1"></a>np.stack([np.arange(<span class="dv">2</span>) <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">8</span>)], axis <span class="op">=</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>AxisError: axis 2 is out of bounds for array of dimension 2</code></pre>
</div>
</div>
<div id="cell-71" class="cell" data-execution_count="55">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb93-1"><a href="#cb93-1"></a>np.stack([np.arange(<span class="dv">2</span>) <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">8</span>)], axis <span class="op">=</span> <span class="op">-</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="55">
<pre><code>array([[0, 0, 0, 0, 0, 0, 0, 0],
       [1, 1, 1, 1, 1, 1, 1, 1]])</code></pre>
</div>
</div>
<div id="cell-72" class="cell" data-execution_count="56">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb95-1"><a href="#cb95-1"></a>np.stack([np.arange(<span class="dv">2</span>) <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">8</span>)], axis <span class="op">=</span> <span class="op">-</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="56">
<pre><code>array([[0, 1],
       [0, 1],
       [0, 1],
       [0, 1],
       [0, 1],
       [0, 1],
       [0, 1],
       [0, 1]])</code></pre>
</div>
</div>
<div id="cell-73" class="cell" data-execution_count="57">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb97-1"><a href="#cb97-1"></a>np.stack([np.arange(<span class="dv">2</span>) <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">8</span>)], axis <span class="op">=</span> <span class="op">-</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>AxisError: axis -3 is out of bounds for array of dimension 2</code></pre>
</div>
</div>
</section>
<section id="q3スライスのshape" class="level3" data-number="13.3">
<h3 data-number="13.3" class="anchored" data-anchor-id="q3スライスのshape"><span class="header-section-number">13.3</span> q3:スライスのshape</h3>
<div id="cell-75" class="cell" data-execution_count="59">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb99-1"><a href="#cb99-1"></a>np.random.seed(<span class="dv">123</span>)</span>
<span id="cb99-2"><a href="#cb99-2"></a>A <span class="op">=</span> np.random.randn(<span class="dv">16</span>, <span class="dv">12</span>)</span>
<span id="cb99-3"><a href="#cb99-3"></a>A.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="59">
<pre><code>(16, 12)</code></pre>
</div>
</div>
<div id="cell-76" class="cell" data-execution_count="60">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb101-1"><a href="#cb101-1"></a>A[<span class="dv">3</span>] </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="60">
<pre><code>array([ 0.00284592,  0.68822271, -0.87953634,  0.28362732, -0.80536652,
       -1.72766949, -0.39089979,  0.57380586,  0.33858905, -0.01183049,
        2.39236527,  0.41291216])</code></pre>
</div>
</div>
<div id="cell-77" class="cell" data-execution_count="61">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb103-1"><a href="#cb103-1"></a>A[:, <span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="61">
<pre><code>array([ 0.2829785 , -0.44398196,  0.9071052 , -0.87953634, -1.29408532,
        0.31427199, -2.12310035, -0.73246199,  0.37940061, -0.4276796 ,
        0.12074736,  0.76094939,  0.4562709 ,  1.37725748, -1.04899168,
        1.39535293])</code></pre>
</div>
</div>
<div id="cell-78" class="cell" data-execution_count="63">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb105-1"><a href="#cb105-1"></a>A[<span class="dv">1</span>:<span class="dv">3</span>, :].shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="63">
<pre><code>(2, 12)</code></pre>
</div>
</div>
<div id="cell-79" class="cell" data-execution_count="64">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb107-1"><a href="#cb107-1"></a>A[<span class="dv">2</span>:<span class="dv">3</span>, <span class="dv">4</span>:<span class="dv">8</span>].shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="64">
<pre><code>(1, 4)</code></pre>
</div>
</div>
<div id="cell-80" class="cell" data-execution_count="67">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb109-1"><a href="#cb109-1"></a>A[<span class="dv">4</span>,<span class="dv">6</span>:<span class="dv">7</span>].shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="67">
<pre><code>(1,)</code></pre>
</div>
</div>
<div id="cell-81" class="cell" data-execution_count="69">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb111-1"><a href="#cb111-1"></a>A[::<span class="dv">2</span>, ::<span class="dv">2</span>].shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="69">
<pre><code>(8, 6)</code></pre>
</div>
</div>
<div id="cell-82" class="cell" data-execution_count="70">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb113-1"><a href="#cb113-1"></a>A[<span class="dv">2</span>::<span class="dv">3</span>, <span class="dv">1</span>::<span class="dv">4</span>].shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="70">
<pre><code>(5, 3)</code></pre>
</div>
</div>
<div id="cell-83" class="cell" data-execution_count="71">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb115-1"><a href="#cb115-1"></a>A[<span class="op">-</span><span class="dv">5</span>::, <span class="op">-</span><span class="dv">7</span>:<span class="op">-</span><span class="dv">4</span>:<span class="dv">2</span>].shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="71">
<pre><code>(5, 2)</code></pre>
</div>
</div>
</section>
<section id="q4ベクトルの結合" class="level3" data-number="13.4">
<h3 data-number="13.4" class="anchored" data-anchor-id="q4ベクトルの結合"><span class="header-section-number">13.4</span> q4:ベクトルの結合</h3>
<div id="cell-85" class="cell" data-execution_count="77">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb117-1"><a href="#cb117-1"></a><span class="im">from</span> mypy.mymodule <span class="im">import</span> TimeExecute</span>
<span id="cb117-2"><a href="#cb117-2"></a>N <span class="op">=</span> <span class="dv">10000</span></span>
<span id="cb117-3"><a href="#cb117-3"></a><span class="cf">with</span> TimeExecute():</span>
<span id="cb117-4"><a href="#cb117-4"></a>    x <span class="op">=</span> []</span>
<span id="cb117-5"><a href="#cb117-5"></a>    <span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="dv">1</span>, N <span class="op">+</span> <span class="dv">1</span>):</span>
<span id="cb117-6"><a href="#cb117-6"></a>        x.append(np.full((i,), i))</span>
<span id="cb117-7"><a href="#cb117-7"></a>    y <span class="op">=</span> np.concatenate(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>200.463 [msec]</code></pre>
</div>
</div>
</section>
<section id="q5ベクトルの行列化１" class="level3" data-number="13.5">
<h3 data-number="13.5" class="anchored" data-anchor-id="q5ベクトルの行列化１"><span class="header-section-number">13.5</span> q5:ベクトルの行列化（１）</h3>
<div id="cell-87" class="cell" data-execution_count="81">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb119-1"><a href="#cb119-1"></a>jan <span class="op">=</span> np.array([<span class="dv">100</span>, <span class="dv">50</span>, <span class="dv">50</span>])</span>
<span id="cb119-2"><a href="#cb119-2"></a>feb <span class="op">=</span> np.array([<span class="dv">50</span>, <span class="dv">30</span>, <span class="dv">100</span>])</span>
<span id="cb119-3"><a href="#cb119-3"></a></span>
<span id="cb119-4"><a href="#cb119-4"></a><span class="co"># ベクトルの場合のaxisの指定は，</span></span>
<span id="cb119-5"><a href="#cb119-5"></a><span class="co"># 指定された軸がゼロになるイメージで，そこに対してstackされる</span></span>
<span id="cb119-6"><a href="#cb119-6"></a>sells <span class="op">=</span> np.stack([jan, feb], axis <span class="op">=</span> <span class="dv">0</span>)</span>
<span id="cb119-7"><a href="#cb119-7"></a>sells</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="81">
<pre><code>array([[100,  50,  50],
       [ 50,  30, 100]])</code></pre>
</div>
</div>
</section>
<section id="q6ベクトルの行列化" class="level3" data-number="13.6">
<h3 data-number="13.6" class="anchored" data-anchor-id="q6ベクトルの行列化"><span class="header-section-number">13.6</span> q6:ベクトルの行列化</h3>
<div id="cell-89" class="cell" data-execution_count="83">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb121-1"><a href="#cb121-1"></a>koshian <span class="op">=</span> np.array([<span class="dv">100</span>, <span class="dv">50</span>])</span>
<span id="cb121-2"><a href="#cb121-2"></a>tsubuan <span class="op">=</span> np.array([<span class="dv">50</span>, <span class="dv">30</span>])</span>
<span id="cb121-3"><a href="#cb121-3"></a>kurian  <span class="op">=</span> np.array([<span class="dv">50</span>, <span class="dv">100</span>])</span>
<span id="cb121-4"><a href="#cb121-4"></a></span>
<span id="cb121-5"><a href="#cb121-5"></a>sells <span class="op">=</span> np.stack([koshian, tsubuan, kurian], axis <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb121-6"><a href="#cb121-6"></a>sells</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="83">
<pre><code>array([[100,  50,  50],
       [ 50,  30, 100]])</code></pre>
</div>
</div>
</section>
<section id="q8分散と標準偏差" class="level3" data-number="13.7">
<h3 data-number="13.7" class="anchored" data-anchor-id="q8分散と標準偏差"><span class="header-section-number">13.7</span> q8:分散と標準偏差</h3>
<div id="cell-91" class="cell" data-execution_count="84">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb123-1"><a href="#cb123-1"></a>x <span class="op">=</span> np.arange(<span class="dv">100</span>) <span class="op">**</span> <span class="dv">2</span></span>
<span id="cb123-2"><a href="#cb123-2"></a></span>
<span id="cb123-3"><a href="#cb123-3"></a>x_mean <span class="op">=</span> np.mean(x)</span>
<span id="cb123-4"><a href="#cb123-4"></a>x_mean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="84">
<pre><code>3283.5</code></pre>
</div>
</div>
<div id="cell-92" class="cell" data-execution_count="86">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb125-1"><a href="#cb125-1"></a>np.var(x), np.mean((x <span class="op">-</span> x_mean) <span class="op">**</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="86">
<pre><code>(8721961.05, 8721961.05)</code></pre>
</div>
</div>
<div id="cell-93" class="cell" data-execution_count="87">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb127-1"><a href="#cb127-1"></a>np.std(x), np.sqrt(np.mean((x <span class="op">-</span> x_mean) <span class="op">**</span> <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="87">
<pre><code>(2953.2966410436998, 2953.2966410436998)</code></pre>
</div>
</div>
</section>
<section id="q9平均値と中央時" class="level3" data-number="13.8">
<h3 data-number="13.8" class="anchored" data-anchor-id="q9平均値と中央時"><span class="header-section-number">13.8</span> q9:平均値と中央時</h3>
<div id="cell-95" class="cell" data-execution_count="88">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb129-1"><a href="#cb129-1"></a>data_file <span class="op">=</span> <span class="st">"numpy_book/data/income.npz"</span></span>
<span id="cb129-2"><a href="#cb129-2"></a>income <span class="op">=</span> np.load(data_file)[<span class="st">"income"</span>]</span>
<span id="cb129-3"><a href="#cb129-3"></a>income</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="88">
<pre><code>array([ 675,  777, 1166, ...,  279,  315,  232])</code></pre>
</div>
</div>
<div id="cell-96" class="cell" data-execution_count="91">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb131-1"><a href="#cb131-1"></a>np.mean(income), <span class="op">\</span></span>
<span id="cb131-2"><a href="#cb131-2"></a>np.median(income), <span class="op">\</span></span>
<span id="cb131-3"><a href="#cb131-3"></a>np.<span class="bu">sum</span>(income <span class="op">&gt;=</span> np.mean(income)) <span class="op">/</span> <span class="bu">len</span>(income)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="91">
<pre><code>(555.0538, 426.0, 0.3805)</code></pre>
</div>
</div>
</section>
<section id="q10-ポケモンの分析" class="level3" data-number="13.9">
<h3 data-number="13.9" class="anchored" data-anchor-id="q10-ポケモンの分析"><span class="header-section-number">13.9</span> q10: ポケモンの分析</h3>
<div id="cell-98" class="cell" data-execution_count="38">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb133-1"><a href="#cb133-1"></a>data_file <span class="op">=</span> <span class="st">"numpy_book/data/pokemon.npz"</span></span>
<span id="cb133-2"><a href="#cb133-2"></a>pokemon   <span class="op">=</span> np.load(data_file, allow_pickle <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb133-3"><a href="#cb133-3"></a><span class="cf">for</span> k, v <span class="kw">in</span> pokemon.items():</span>
<span id="cb133-4"><a href="#cb133-4"></a>    <span class="bu">print</span>(k, v)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>params [[ 45  49  49  65  65  45]
 [ 60  62  63  80  80  60]
 [ 80  82  83 100 100  80]
 [ 39  52  43  60  50  65]
 [ 58  64  58  80  65  80]
 [ 78  84  78 109  85 100]
 [ 44  48  65  50  64  43]
 [ 59  63  80  65  80  58]
 [ 79  83 100  85 105  78]
 [ 45  30  35  20  20  45]
 [ 50  20  55  25  25  30]
 [ 60  45  50  90  80  70]
 [ 40  35  30  20  20  50]
 [ 45  25  50  25  25  35]
 [ 65  90  40  45  80  75]
 [ 40  45  40  35  35  56]
 [ 63  60  55  50  50  71]
 [ 83  80  75  70  70 101]
 [ 30  56  35  25  35  72]
 [ 55  81  60  50  70  97]
 [ 40  60  30  31  31  70]
 [ 65  90  65  61  61 100]
 [ 35  60  44  40  54  55]
 [ 60  95  69  65  79  80]
 [ 35  55  40  50  50  90]
 [ 60  90  55  90  80 110]
 [ 50  75  85  20  30  40]
 [ 75 100 110  45  55  65]
 [ 55  47  52  40  40  41]
 [ 70  62  67  55  55  56]
 [ 90  92  87  75  85  76]
 [ 46  57  40  40  40  50]
 [ 61  72  57  55  55  65]
 [ 81 102  77  85  75  85]
 [ 70  45  48  60  65  35]
 [ 95  70  73  95  90  60]
 [ 38  41  40  50  65  65]
 [ 73  76  75  81 100 100]
 [115  45  20  45  25  20]
 [140  70  45  85  50  45]
 [ 40  45  35  30  40  55]
 [ 75  80  70  65  75  90]
 [ 45  50  55  75  65  30]
 [ 60  65  70  85  75  40]
 [ 75  80  85 110  90  50]
 [ 35  70  55  45  55  25]
 [ 60  95  80  60  80  30]
 [ 60  55  50  40  55  45]
 [ 70  65  60  90  75  90]
 [ 10  55  25  35  45  95]
 [ 35 100  50  50  70 120]
 [ 40  45  35  40  40  90]
 [ 65  70  60  65  65 115]
 [ 50  52  48  65  50  55]
 [ 80  82  78  95  80  85]
 [ 40  80  35  35  45  70]
 [ 65 105  60  60  70  95]
 [ 55  70  45  70  50  60]
 [ 90 110  80 100  80  95]
 [ 40  50  40  40  40  90]
 [ 65  65  65  50  50  90]
 [ 90  95  95  70  90  70]
 [ 25  20  15 105  55  90]
 [ 40  35  30 120  70 105]
 [ 55  50  45 135  95 120]
 [ 70  80  50  35  35  35]
 [ 80 100  70  50  60  45]
 [ 90 130  80  65  85  55]
 [ 50  75  35  70  30  40]
 [ 65  90  50  85  45  55]
 [ 80 105  65 100  70  70]
 [ 40  40  35  50 100  70]
 [ 80  70  65  80 120 100]
 [ 40  80 100  30  30  20]
 [ 55  95 115  45  45  35]
 [ 80 120 130  55  65  45]
 [ 50  85  55  65  65  90]
 [ 65 100  70  80  80 105]
 [ 90  65  65  40  40  15]
 [ 95  75 110 100  80  30]
 [ 25  35  70  95  55  45]
 [ 50  60  95 120  70  70]
 [ 52  90  55  58  62  60]
 [ 35  85  45  35  35  75]
 [ 60 110  70  60  60 110]
 [ 65  45  55  45  70  45]
 [ 90  70  80  70  95  70]
 [ 80  80  50  40  50  25]
 [105 105  75  65 100  50]
 [ 30  65 100  45  25  40]
 [ 50  95 180  85  45  70]
 [ 30  35  30 100  35  80]
 [ 45  50  45 115  55  95]
 [ 60  65  60 130  75 110]
 [ 35  45 160  30  45  70]
 [ 60  48  45  43  90  42]
 [ 85  73  70  73 115  67]
 [ 30 105  90  25  25  50]
 [ 55 130 115  50  50  75]
 [ 40  30  50  55  55 100]
 [ 60  50  70  80  80 150]
 [ 60  40  80  60  45  40]
 [ 95  95  85 125  75  55]
 [ 50  50  95  40  50  35]
 [ 60  80 110  50  80  45]
 [ 50 120  53  35 110  87]
 [ 50 105  79  35 110  76]
 [ 90  55  75  60  75  30]
 [ 40  65  95  60  45  35]
 [ 65  90 120  85  70  60]
 [ 80  85  95  30  30  25]
 [105 130 120  45  45  40]
 [250   5   5  35 105  50]
 [ 65  55 115 100  40  60]
 [105  95  80  40  80  90]
 [ 30  40  70  70  25  60]
 [ 55  65  95  95  45  85]
 [ 45  67  60  35  50  63]
 [ 80  92  65  65  80  68]
 [ 30  45  55  70  55  85]
 [ 60  75  85 100  85 115]
 [ 40  45  65 100 120  90]
 [ 70 110  80  55  80 105]
 [ 65  50  35 115  95  95]
 [ 65  83  57  95  85 105]
 [ 65  95  57 100  85  93]
 [ 65 125 100  55  70  85]
 [ 75 100  95  40  70 110]
 [ 20  10  55  15  20  80]
 [ 95 125  79  60 100  81]
 [130  85  80  85  95  60]
 [ 48  48  48  48  48  48]
 [ 55  55  50  45  65  55]
 [130  65  60 110  95  65]
 [ 65  65  60 110  95 130]
 [ 65 130  60  95 110  65]
 [ 65  60  70  85  75  40]
 [ 35  40 100  90  55  35]
 [ 70  60 125 115  70  55]
 [ 30  80  90  55  45  55]
 [ 60 115 105  65  70  80]
 [ 80 105  65  60  75 130]
 [160 110  65  65 110  30]
 [ 90  85 100  95 125  85]
 [ 90  90  85 125  90 100]
 [ 90 100  90 125  85  90]
 [ 41  64  45  50  50  50]
 [ 61  84  65  70  70  70]
 [ 91 134  95 100 100  80]
 [106 110  90 154  90 130]
 [100 100 100 100 100 100]]
params_header ['HP' '攻撃' '防御' '特攻' '特防' '素早']
names ['フシギダネ' 'フシギソウ' 'フシギバナ' 'ヒトカゲ' 'リザード' 'リザードン' 'ゼニガメ' 'カメール' 'カメックス'
 'キャタピー' 'トランセル' 'バタフリー' 'ビードル' 'コクーン' 'スピアー' 'ポッポ' 'ピジョン' 'ピジョット' 'コラッタ'
 'ラッタ' 'オニスズメ' 'オニドリル' 'アーボ' 'アーボック' 'ピカチュウ' 'ライチュウ' 'サンド' 'サンドパン' 'ニドラン♀'
 'ニドリーナ' 'ニドクイン' 'ニドラン♂' 'ニドリーノ' 'ニドキング' 'ピッピ' 'ピクシー' 'ロコン' 'キュウコン' 'プリン'
 'プクリン' 'ズバット' 'ゴルバット' 'ナゾノクサ' 'クサイハナ' 'ラフレシア' 'パラス' 'パラセクト' 'コンパン'
 'モルフォン' 'ディグダ' 'ダグトリオ' 'ニャース' 'ペルシアン' 'コダック' 'ゴルダック' 'マンキー' 'オコリザル'
 'ガーディ' 'ウインディ' 'ニョロモ' 'ニョロゾ' 'ニョロボン' 'ケーシィ' 'ユンゲラー' 'フーディン' 'ワンリキー'
 'ゴーリキー' 'カイリキー' 'マダツボミ' 'ウツドン' 'ウツボット' 'メノクラゲ' 'ドククラゲ' 'イシツブテ' 'ゴローン'
 'ゴローニャ' 'ポニータ' 'ギャロップ' 'ヤドン' 'ヤドラン' 'コイル' 'レアコイル' 'カモネギ' 'ドードー' 'ドードリオ'
 'パウワウ' 'ジュゴン' 'ベトベター' 'ベトベトン' 'シェルダー' 'パルシェン' 'ゴース' 'ゴースト' 'ゲンガー' 'イワーク'
 'スリープ' 'スリーパー' 'クラブ' 'キングラー' 'ビリリダマ' 'マルマイン' 'タマタマ' 'ナッシー' 'カラカラ' 'ガラガラ'
 'サワムラー' 'エビワラー' 'ベロリンガ' 'ドガース' 'マタドガス' 'サイホーン' 'サイドン' 'ラッキー' 'モンジャラ'
 'ガルーラ' 'タッツー' 'シードラ' 'トサキント' 'アズマオウ' 'ヒトデマン' 'スターミー' 'バリヤード' 'ストライク'
 'ルージュラ' 'エレブー' 'ブーバー' 'カイロス' 'ケンタロス' 'コイキング' 'ギャラドス' 'ラプラス' 'メタモン' 'イーブイ'
 'シャワーズ' 'サンダース' 'ブースター' 'ポリゴン' 'オムナイト' 'オムスター' 'カブト' 'カブトプス' 'プテラ' 'カビゴン'
 'フリーザー' 'サンダー' 'ファイヤー' 'ミニリュウ' 'ハクリュー' 'カイリュー' 'ミュウツー' 'ミュウ']
numbers [  1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18
  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34  35  36
  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51  52  53  54
  55  56  57  58  59  60  61  62  63  64  65  66  67  68  69  70  71  72
  73  74  75  76  77  78  79  80  81  82  83  84  85  86  87  88  89  90
  91  92  93  94  95  96  97  98  99 100 101 102 103 104 105 106 107 108
 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126
 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144
 145 146 147 148 149 150 151]</code></pre>
</div>
</div>
</section>
<section id="q11種族値合計" class="level3" data-number="13.10">
<h3 data-number="13.10" class="anchored" data-anchor-id="q11種族値合計"><span class="header-section-number">13.10</span> q11:種族値合計</h3>
<ul>
<li>params:種族値</li>
<li>params_header:種族値のヘッダー</li>
<li>names:ポケモンの名前</li>
<li>numbers:ポケモン図鑑No.</li>
</ul>
<div id="cell-100" class="cell" data-execution_count="39">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb135-1"><a href="#cb135-1"></a>total_params <span class="op">=</span> np.<span class="bu">sum</span>(pokemon[<span class="st">"params"</span>], axis <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb135-2"><a href="#cb135-2"></a><span class="bu">print</span>(<span class="ss">f"""</span></span>
<span id="cb135-3"><a href="#cb135-3"></a><span class="ss">平均 = </span><span class="sc">{</span>np<span class="sc">.</span>mean(total_params)<span class="sc">}</span><span class="ss">, </span></span>
<span id="cb135-4"><a href="#cb135-4"></a><span class="ss">最大 = </span><span class="sc">{</span>np<span class="sc">.</span><span class="bu">max</span>(total_params)<span class="sc">}</span><span class="ss">, </span></span>
<span id="cb135-5"><a href="#cb135-5"></a><span class="ss">最小 = </span><span class="sc">{</span>np<span class="sc">.</span><span class="bu">min</span>(total_params)<span class="sc">}</span><span class="ss">, </span></span>
<span id="cb135-6"><a href="#cb135-6"></a><span class="ss">中央値 = </span><span class="sc">{</span>np<span class="sc">.</span>median(total_params)<span class="sc">}</span><span class="ss">"""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
平均 = 407.6423841059603, 
最大 = 680, 
最小 = 195, 
中央値 = 405.0</code></pre>
</div>
</div>
</section>
<section id="q12種族値の集約" class="level3" data-number="13.11">
<h3 data-number="13.11" class="anchored" data-anchor-id="q12種族値の集約"><span class="header-section-number">13.11</span> q12:種族値の集約</h3>
<div id="cell-102" class="cell" data-execution_count="40">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb137-1"><a href="#cb137-1"></a><span class="cf">for</span> i, v <span class="kw">in</span> <span class="bu">enumerate</span>(pokemon[<span class="st">"params_header"</span>]):</span>
<span id="cb137-2"><a href="#cb137-2"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>v<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb137-3"><a href="#cb137-3"></a>    data <span class="op">=</span> pokemon[<span class="st">"params"</span>][:, i]</span>
<span id="cb137-4"><a href="#cb137-4"></a>    <span class="bu">print</span>(<span class="ss">f"""</span></span>
<span id="cb137-5"><a href="#cb137-5"></a><span class="ss">    平均 = </span><span class="sc">{</span>np<span class="sc">.</span>mean(data)<span class="sc">}</span><span class="ss">, </span></span>
<span id="cb137-6"><a href="#cb137-6"></a><span class="ss">    最大 = </span><span class="sc">{</span>np<span class="sc">.</span><span class="bu">max</span>(data)<span class="sc">}</span><span class="ss">, </span></span>
<span id="cb137-7"><a href="#cb137-7"></a><span class="ss">    最小 = </span><span class="sc">{</span>np<span class="sc">.</span><span class="bu">min</span>(data)<span class="sc">}</span><span class="ss">, </span></span>
<span id="cb137-8"><a href="#cb137-8"></a><span class="ss">    中央値 = </span><span class="sc">{</span>np<span class="sc">.</span>median(data)<span class="sc">}</span><span class="ss">"""</span>)  </span>
<span id="cb137-9"><a href="#cb137-9"></a>    <span class="bu">print</span>(<span class="st">"-"</span><span class="op">*</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>HP

    平均 = 64.21192052980132, 
    最大 = 250, 
    最小 = 10, 
    中央値 = 60.0
----------
攻撃

    平均 = 72.91390728476821, 
    最大 = 134, 
    最小 = 5, 
    中央値 = 70.0
----------
防御

    平均 = 68.2251655629139, 
    最大 = 180, 
    最小 = 5, 
    中央値 = 65.0
----------
特攻

    平均 = 67.13907284768212, 
    最大 = 154, 
    最小 = 15, 
    中央値 = 65.0
----------
特防

    平均 = 66.08609271523179, 
    最大 = 125, 
    最小 = 20, 
    中央値 = 65.0
----------
素早

    平均 = 69.06622516556291, 
    最大 = 150, 
    最小 = 15, 
    中央値 = 70.0
----------</code></pre>
</div>
</div>
</section>
<section id="q13種族値のランキング" class="level3" data-number="13.12">
<h3 data-number="13.12" class="anchored" data-anchor-id="q13種族値のランキング"><span class="header-section-number">13.12</span> q13:種族値のランキング</h3>
<p><code>np.argsort</code>により，ソート結果がインデックスで表示されるので，わたしがやっているようにわざわざ構造体の 配列を作成して処理行う必要はなかった。</p>
<p>とはいえ，いい勉強になった気がする.</p>
<div id="cell-104" class="cell" data-execution_count="41">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb139-1"><a href="#cb139-1"></a>dtype  <span class="op">=</span> [(<span class="st">"name"</span>, <span class="st">"U10"</span>), (<span class="st">"param"</span>, <span class="bu">int</span>)]</span>
<span id="cb139-2"><a href="#cb139-2"></a>values <span class="op">=</span> [(x, y) <span class="cf">for</span> x, y <span class="kw">in</span> <span class="bu">zip</span>(pokemon[<span class="st">"names"</span>], total_params)]</span>
<span id="cb139-3"><a href="#cb139-3"></a>tbl <span class="op">=</span> np.array(values, dtype <span class="op">=</span> dtype)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-105" class="cell" data-execution_count="42">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb140-1"><a href="#cb140-1"></a>tbl.sort(order <span class="op">=</span> <span class="st">"param"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-106" class="cell" data-execution_count="43">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb141-1"><a href="#cb141-1"></a><span class="co"># worst 10</span></span>
<span id="cb141-2"><a href="#cb141-2"></a>tbl[:<span class="dv">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="43">
<pre><code>array([('キャタピー', 195), ('ビードル', 195), ('コイキング', 200), ('コクーン', 205),
       ('トランセル', 205), ('ズバット', 245), ('ポッポ', 251), ('コラッタ', 253),
       ('オニスズメ', 262), ('ディグダ', 265)],
      dtype=[('name', '&lt;U10'), ('param', '&lt;i4')])</code></pre>
</div>
</div>
<div id="cell-107" class="cell" data-execution_count="44">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb143-1"><a href="#cb143-1"></a><span class="co"># top10</span></span>
<span id="cb143-2"><a href="#cb143-2"></a>tbl[<span class="op">-</span><span class="dv">10</span>:]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="44">
<pre><code>array([('ラプラス', 535), ('カビゴン', 540), ('ギャラドス', 540), ('ウインディ', 555),
       ('サンダー', 580), ('ファイヤー', 580), ('フリーザー', 580), ('カイリュー', 600),
       ('ミュウ', 600), ('ミュウツー', 680)],
      dtype=[('name', '&lt;U10'), ('param', '&lt;i4')])</code></pre>
</div>
</div>
<div id="cell-108" class="cell" data-execution_count="45">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb145-1"><a href="#cb145-1"></a>hensachi <span class="op">=</span> (total_params <span class="op">-</span> np.mean(total_params)) <span class="op">*</span> <span class="dv">10</span> <span class="op">/</span> np.std(total_params) <span class="op">+</span> <span class="dv">50</span></span>
<span id="cb145-2"><a href="#cb145-2"></a>np.<span class="bu">min</span>(hensachi), np.<span class="bu">max</span>(hensachi)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="45">
<pre><code>(28.638341700682517, 77.36053938826282)</code></pre>
</div>
</div>
</section>
<section id="q15-偏差値ソート" class="level3" data-number="13.13">
<h3 data-number="13.13" class="anchored" data-anchor-id="q15-偏差値ソート"><span class="header-section-number">13.13</span> q15: 偏差値ソート</h3>
<div id="cell-110" class="cell" data-execution_count="46">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb147-1"><a href="#cb147-1"></a>dtype  <span class="op">=</span> [(<span class="st">"name"</span>, <span class="st">"U10"</span>), (<span class="st">"param"</span>, <span class="bu">float</span>)]</span>
<span id="cb147-2"><a href="#cb147-2"></a>values <span class="op">=</span> [(x, y) <span class="cf">for</span> x, y <span class="kw">in</span> <span class="bu">zip</span>(pokemon[<span class="st">"names"</span>], hensachi)]</span>
<span id="cb147-3"><a href="#cb147-3"></a>tbl <span class="op">=</span> np.array(values, dtype <span class="op">=</span> dtype)</span>
<span id="cb147-4"><a href="#cb147-4"></a>tbl.sort(order <span class="op">=</span> <span class="st">"param"</span>)</span>
<span id="cb147-5"><a href="#cb147-5"></a>tbl[:<span class="dv">10</span>], tbl[<span class="op">-</span><span class="dv">10</span>:]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="46">
<pre><code>(array([('キャタピー', 28.6383417 ), ('ビードル', 28.6383417 ),
        ('コイキング', 29.1406324 ), ('コクーン', 29.6429231 ),
        ('トランセル', 29.6429231 ), ('ズバット', 33.66124868),
        ('ポッポ', 34.26399752), ('コラッタ', 34.4649138 ),
        ('オニスズメ', 35.36903705), ('ディグダ', 35.67041147)],
       dtype=[('name', '&lt;U10'), ('param', '&lt;f8')]),
 array([('ラプラス', 62.79410915), ('カビゴン', 63.29639985),
        ('ギャラドス', 63.29639985), ('ウインディ', 64.80327194),
        ('サンダー', 67.31472543), ('ファイヤー', 67.31472543),
        ('フリーザー', 67.31472543), ('カイリュー', 69.32388822),
        ('ミュウ', 69.32388822), ('ミュウツー', 77.36053939)],
       dtype=[('name', '&lt;U10'), ('param', '&lt;f8')]))</code></pre>
</div>
</div>
<div id="cell-111" class="cell" data-execution_count="47">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb149-1"><a href="#cb149-1"></a>v <span class="op">=</span> pokemon[<span class="st">"params"</span>]</span>
<span id="cb149-2"><a href="#cb149-2"></a>hensachi2 <span class="op">=</span> (v <span class="op">-</span> np.mean(v, axis <span class="op">=</span> <span class="dv">0</span>, keepdims<span class="op">=</span><span class="va">True</span>)) <span class="op">*</span> <span class="dv">10</span>  <span class="op">/</span> np.std(v, axis <span class="op">=</span> <span class="dv">0</span>, keepdims<span class="op">=</span><span class="va">True</span>) <span class="op">+</span> <span class="dv">50</span></span>
<span id="cb149-3"><a href="#cb149-3"></a><span class="cf">for</span> i <span class="kw">in</span> np.arange(<span class="bu">len</span>(v)):</span>
<span id="cb149-4"><a href="#cb149-4"></a>    v <span class="op">=</span> np.sort(hensachi2[:, i])</span>
<span id="cb149-5"><a href="#cb149-5"></a>    <span class="bu">print</span>(v[:<span class="dv">10</span>], v[<span class="op">-</span><span class="dv">10</span>:])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[30.97512971 34.48448155 36.23915747 36.23915747 37.99383338 37.99383338
 37.99383338 37.99383338 37.99383338 37.99383338] [ 64.31397216  64.31397216  64.31397216  64.66490734  67.823324
  73.08735175  73.08735175  76.59670359  83.61540726 115.19957379]
[24.53229698 26.40729609 30.15729429 30.15729429 32.03229339 33.90729249
 33.90729249 35.78229159 35.78229159 35.78229159] [65.7822772  67.6572763  67.6572763  69.5322754  69.5322754  71.4072745
 71.4072745  71.4072745  71.4072745  72.90727378]
[26.43263987 30.16016829 32.0239325  33.8876967  35.75146091 35.75146091
 35.75146091 35.75146091 37.61522512 37.61522512] [65.57168825 67.43545246 67.43545246 67.43545246 69.29921666 69.29921666
 71.16298087 73.02674508 84.20933033 91.66438717]
[31.6667079  33.42482241 33.42482241 33.42482241 35.18293692 35.18293692
 35.18293692 35.18293692 36.94105143 36.94105143] [66.82899809 66.82899809 68.5871126  68.5871126  70.34522711 70.34522711
 70.34522711 72.10334162 73.86145613 80.54229127]
[30.89972952 30.89972952 30.89972952 32.97196752 32.97196752 32.97196752
 32.97196752 32.97196752 32.97196752 35.04420551] [66.12777544 66.12777544 68.20001344 68.20001344 68.20001344 68.20001344
 70.27225144 72.34448943 72.34448943 74.41672743]
[29.92712204 31.78344527 31.78344527 33.6397685  33.6397685  33.6397685
 35.49609173 35.49609173 35.49609173 35.49609173] [65.19726343 65.19726343 67.05358666 67.05358666 68.9099099  68.9099099
 72.62255636 72.62255636 72.62255636 80.04784928]</code></pre>
</div>
<div class="cell-output cell-output-error">
<pre><code>IndexError: index 6 is out of bounds for axis 1 with size 6</code></pre>
</div>
</div>
<div id="cell-112" class="cell" data-execution_count="48">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb152-1"><a href="#cb152-1"></a>total_hensachi <span class="op">=</span> np.<span class="bu">sum</span>(hensachi2, axis <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb152-2"><a href="#cb152-2"></a>total_hensachi</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="48">
<pre><code>array([266.98670102, 299.40429343, 344.12475328, 263.22003676,
       298.79723743, 346.6823034 , 265.79349106, 299.74828355,
       346.5409814 , 220.16999211, 223.89110947, 295.41238503,
       220.28287432, 224.00399168, 296.34781708, 241.47904633,
       277.82687269, 326.259979  , 242.65493362, 302.69998443,
       245.50993826, 312.69971633, 256.10173332, 315.75230634,
       267.5884241 , 329.00172699, 259.72545478, 315.6260296 ,
       250.22749063, 283.76783552, 336.38276957, 249.6874199 ,
       283.97327047, 335.95995755, 268.41656752, 327.83337136,
       260.32633   , 337.18064313, 246.35035403, 307.52527238,
       239.55814096, 317.8189457 , 267.54547722, 295.39914637,
       330.59939705, 254.9866355 , 299.94568838, 261.938432  ,
       315.50231661, 247.73349359, 307.61783579, 256.0686326 ,
       311.96920741, 266.98955604, 334.07024582, 262.08245686,
       317.98303168, 277.99040793, 354.29585927, 259.8073959 ,
       291.18529885, 338.57632737, 263.04675511, 296.5871    ,
       334.27192089, 261.06306639, 298.87565143, 336.71070625,
       258.66895779, 292.20930268, 329.89412356, 275.15142553,
       341.59699116, 259.77333076, 293.31367565, 332.57117084,
       301.1847966 , 334.72514149, 264.45312496, 329.97592473,
       268.95002061, 320.70611944, 288.91902357, 263.6421557 ,
       323.25537698, 269.78170242, 325.68227724, 268.83460026,
       335.09636505, 261.26638008, 342.84711314, 262.25800801,
       297.87059089, 333.48317378, 292.03877794, 271.89640979,
       329.55509911, 269.21903289, 325.11960771, 271.2386319 ,
       330.92738364, 268.52767877, 344.1570508 , 267.54307448,
       307.556017  , 320.55194558, 320.53461105, 291.53774888,
       274.61893999, 330.51951481, 275.67829623, 327.70551598,
       313.91283669, 308.37167245, 330.98119238, 256.9246648 ,
       310.75300162, 267.75434163, 316.11427103, 274.9234154 ,
       342.00410519, 321.50439989, 335.16677147, 317.73967011,
       330.85093913, 332.65387572, 334.92238078, 331.20024553,
       222.58782106, 350.32911051, 346.90637896, 255.38234933,
       269.79899305, 342.5982215 , 343.91963656, 345.10479332,
       295.27882319, 280.04619583, 331.58032416, 280.53799966,
       332.94137665, 340.17732426, 349.2644539 , 365.55530159,
       363.45099885, 363.2798768 , 260.08221194, 304.80267179,
       371.95806505, 399.76472594, 371.65554495])</code></pre>
</div>
</div>
<div id="cell-113" class="cell" data-execution_count="49">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb154-1"><a href="#cb154-1"></a>dtype  <span class="op">=</span> [(<span class="st">"name"</span>, <span class="st">"U10"</span>), (<span class="st">"param"</span>, <span class="bu">float</span>)]</span>
<span id="cb154-2"><a href="#cb154-2"></a>values <span class="op">=</span> [(x, y) <span class="cf">for</span> x, y <span class="kw">in</span> <span class="bu">zip</span>(pokemon[<span class="st">"names"</span>], total_hensachi)]</span>
<span id="cb154-3"><a href="#cb154-3"></a>tbl <span class="op">=</span> np.array(values, dtype <span class="op">=</span> dtype)</span>
<span id="cb154-4"><a href="#cb154-4"></a>tbl.sort(order <span class="op">=</span> <span class="st">"param"</span>)</span>
<span id="cb154-5"><a href="#cb154-5"></a>tbl[:<span class="dv">10</span>], tbl[<span class="op">-</span><span class="dv">10</span>:]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="49">
<pre><code>(array([('キャタピー', 220.16999211), ('ビードル', 220.28287432),
        ('コイキング', 222.58782106), ('トランセル', 223.89110947),
        ('コクーン', 224.00399168), ('ズバット', 239.55814096),
        ('ポッポ', 241.47904633), ('コラッタ', 242.65493362),
        ('オニスズメ', 245.50993826), ('プリン', 246.35035403)],
       dtype=[('name', '&lt;U10'), ('param', '&lt;f8')]),
 array([('ラプラス', 346.90637896), ('カビゴン', 349.2644539 ),
        ('ギャラドス', 350.32911051), ('ウインディ', 354.29585927),
        ('ファイヤー', 363.2798768 ), ('サンダー', 363.45099885),
        ('フリーザー', 365.55530159), ('ミュウ', 371.65554495),
        ('カイリュー', 371.95806505), ('ミュウツー', 399.76472594)],
       dtype=[('name', '&lt;U10'), ('param', '&lt;f8')]))</code></pre>
</div>
</div>
</section>
<section id="q18コサイン類似度" class="level3" data-number="13.14">
<h3 data-number="13.14" class="anchored" data-anchor-id="q18コサイン類似度"><span class="header-section-number">13.14</span> q18：コサイン類似度</h3>
<div id="cell-115" class="cell" data-execution_count="63">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb156-1"><a href="#cb156-1"></a>idx_purin, <span class="op">*</span>_ <span class="op">=</span> np.where(pokemon[<span class="st">"names"</span>] <span class="op">==</span> <span class="st">"プリン"</span>)</span>
<span id="cb156-2"><a href="#cb156-2"></a>idx_purin</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="63">
<pre><code>array([38], dtype=int64)</code></pre>
</div>
</div>
<div id="cell-116" class="cell" data-execution_count="54">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb158-1"><a href="#cb158-1"></a>params <span class="op">=</span> pokemon[<span class="st">"params"</span>]</span>
<span id="cb158-2"><a href="#cb158-2"></a>params_norm <span class="op">=</span> np.sqrt(np.<span class="bu">sum</span>(params <span class="op">*</span> params, axis <span class="op">=</span> <span class="dv">1</span>))</span>
<span id="cb158-3"><a href="#cb158-3"></a>params_norm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="54">
<pre><code>array([131.53706702, 166.77229986, 215.43676566, 128.05858035,
       166.88019655, 219.84085153, 130.03845585, 166.85023224,
       217.86234186,  83.51646544,  89.86100378, 165.90660023,
        83.81527307,  87.32124598, 167.25728684, 103.97595876,
       143.64887748, 197.26885208, 110.88282103, 173.1906464 ,
       113.67497526, 184.36919482, 119.59096956, 185.07295859,
       137.65899898, 203.2855135 , 135.09256086, 192.35384062,
       113.22102278, 149.72975656, 206.78249442, 112.53888217,
       149.76314633, 207.28965242, 135.19985207, 199.94749311,
       125.19984026, 208.06489372, 136.74794331, 195.63997547,
       101.85774394, 186.74849397, 135.27749258, 164.84841522,
       204.81699148, 121.75795662, 172.98843892, 125.59856687,
       185.87630295, 126.58988901, 188.48076825, 127.08265027,
       185.47236991, 131.36970731, 204.59227747, 131.81426326,
       190.72231123, 144.74114826, 228.08989456, 130.3840481 ,
       160.54594358, 209.88091862, 152.97058541, 184.52642087,
       221.81073013, 132.19304066, 171.53716798, 214.18449991,
       129.42179106, 164.62077633, 203.59273072, 147.73286703,
       215.2324325 , 142.12670404, 174.78558293, 216.73716802,
       171.17242769, 207.24381776, 141.33294025, 209.88091862,
       144.3086969 , 198.30532015, 156.96177879, 136.19838472,
       199.74984355, 135.        , 195.51214796, 141.50971698,
       210.71307506, 139.19410907, 240.98755155, 143.70107863,
       178.39562775, 214.59263734, 191.50718002, 140.14991973,
       201.23866428, 154.19143945, 209.22475953, 145.08618129,
       215.17434791, 137.20422734, 222.5982929 , 139.10427743,
       181.72781845, 201.50186103, 197.14715316, 163.93596311,
       147.30919863, 206.03397778, 158.35087622, 219.03196114,
       278.02877549, 188.87826768, 206.27651345, 128.54960132,
       185.87630295, 133.44661854, 185.30515373, 145.25839046,
       216.56407828, 200.87309427, 209.40391591, 198.0530232 ,
       204.05391444, 205.84703058, 212.13203436, 207.96634343,
       102.71319292, 225.94689642, 224.44375687, 117.57550765,
       133.51029923, 223.77444001, 223.77444001, 223.77444001,
       164.84841522, 158.66631653, 212.77922831, 153.21553446,
       208.266656  , 218.57492994, 243.20773014, 239.16521486,
       239.06066176, 239.06066176, 123.70125303, 172.34268189,
       248.31834407, 283.11128554, 244.94897428])</code></pre>
</div>
</div>
<div id="cell-117" class="cell" data-execution_count="69">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb160"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb160-1"><a href="#cb160-1"></a>params_inner_dot <span class="op">=</span> np.<span class="bu">sum</span>(params <span class="op">*</span> params[idx_purin, :], axis <span class="op">=</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-118" class="cell" data-execution_count="70">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb161-1"><a href="#cb161-1"></a>cos_norm <span class="op">=</span> params_inner_dot <span class="op">/</span> params_norm <span class="op">/</span> params_norm[idx_purin]</span>
<span id="cb161-2"><a href="#cb161-2"></a>cos_norm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="70">
<pre><code>array([0.76775866, 0.77831184, 0.78579701, 0.73864701, 0.76838728,
       0.77637519, 0.74399024, 0.75844481, 0.76630726, 0.83401157,
       0.82191954, 0.76584406, 0.80050142, 0.81651448, 0.78042715,
       0.7732884 , 0.81272924, 0.79941104, 0.6667547 , 0.72244497,
       0.73786642, 0.75737419, 0.72490712, 0.75291367, 0.66933747,
       0.73024536, 0.71859186, 0.76129129, 0.84610336, 0.83759717,
       0.82222066, 0.80932011, 0.80786913, 0.80592149, 0.8686574 ,
       0.85069317, 0.71199858, 0.75424095, 1.        , 0.9765127 ,
       0.77357499, 0.79197344, 0.76355813, 0.78628622, 0.78994434,
       0.73122464, 0.7640828 , 0.84132222, 0.78290352, 0.5040175 ,
       0.61786215, 0.68620096, 0.73630981, 0.79740434, 0.80153485,
       0.72120735, 0.75725961, 0.80710131, 0.81113599, 0.68705392,
       0.77433481, 0.81269557, 0.57246217, 0.63506573, 0.67008084,
       0.87403272, 0.84195341, 0.81770504, 0.82070661, 0.82513189,
       0.8216333 , 0.65587028, 0.75596467, 0.65344228, 0.70079081,
       0.74902925, 0.72733168, 0.7436442 , 0.91452425, 0.82227719,
       0.62835978, 0.69695804, 0.76825596, 0.68188472, 0.71937494,
       0.82742121, 0.8237992 , 0.89658695, 0.85807256, 0.62124011,
       0.60613781, 0.64119439, 0.68763428, 0.71391812, 0.50117967,
       0.78188538, 0.79799488, 0.60349924, 0.68068093, 0.64515359,
       0.65081489, 0.7954741 , 0.83771742, 0.71758171, 0.71828369,
       0.66321986, 0.6639597 , 0.86984039, 0.69250599, 0.73470111,
       0.80931344, 0.8104588 , 0.90150245, 0.73367956, 0.83487283,
       0.66130442, 0.71798941, 0.73841481, 0.82576632, 0.64438873,
       0.70573078, 0.62707092, 0.73946533, 0.73384588, 0.74720596,
       0.75934776, 0.72478458, 0.7305117 , 0.47167065, 0.80750155,
       0.9049524 , 0.80605994, 0.79694329, 0.90520822, 0.70341541,
       0.74671508, 0.80181232, 0.64293736, 0.73117197, 0.64671911,
       0.71804682, 0.74942274, 0.92984708, 0.77280931, 0.79455989,
       0.8014425 , 0.76821252, 0.78052379, 0.79497546, 0.79349323,
       0.80605994])</code></pre>
</div>
</div>
<div id="cell-119" class="cell" data-execution_count="71">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb163-1"><a href="#cb163-1"></a>dtype  <span class="op">=</span> [(<span class="st">"name"</span>, <span class="st">"U10"</span>), (<span class="st">"param"</span>, <span class="bu">float</span>)]</span>
<span id="cb163-2"><a href="#cb163-2"></a>values <span class="op">=</span> [(x, y) <span class="cf">for</span> x, y <span class="kw">in</span> <span class="bu">zip</span>(pokemon[<span class="st">"names"</span>], cos_norm)]</span>
<span id="cb163-3"><a href="#cb163-3"></a>tbl <span class="op">=</span> np.array(values, dtype <span class="op">=</span> dtype)</span>
<span id="cb163-4"><a href="#cb163-4"></a>tbl.sort(order <span class="op">=</span> <span class="st">"param"</span>)</span>
<span id="cb163-5"><a href="#cb163-5"></a>tbl[:<span class="dv">10</span>], tbl[<span class="op">-</span><span class="dv">10</span>:]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="71">
<pre><code>(array([('コイキング', 0.47167065), ('イワーク', 0.50117967), ('ディグダ', 0.5040175 ),
        ('ケーシィ', 0.57246217), ('クラブ', 0.60349924), ('パルシェン', 0.60613781),
        ('ダグトリオ', 0.61786215), ('シェルダー', 0.62124011),
        ('バリヤード', 0.62707092), ('コイル', 0.62835978)],
       dtype=[('name', '&lt;U10'), ('param', '&lt;f8')]),
 array([('ベロリンガ', 0.86984039), ('ワンリキー', 0.87403272),
        ('ベトベター', 0.89658695), ('ラッキー', 0.90150245), ('ラプラス', 0.9049524 ),
        ('シャワーズ', 0.90520822), ('ヤドン', 0.91452425), ('カビゴン', 0.92984708),
        ('プクリン', 0.9765127 ), ('プリン', 1.        )],
       dtype=[('name', '&lt;U10'), ('param', '&lt;f8')]))</code></pre>
</div>
</div>
<p>なんかすべてのポケモンをまとめて計算出来そうな気がする.</p>
<div id="cell-121" class="cell" data-execution_count="72">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb165-1"><a href="#cb165-1"></a><span class="co"># ポケモン vs ポケモン のノルム表</span></span>
<span id="cb165-2"><a href="#cb165-2"></a>inner_prd <span class="op">=</span> np.<span class="bu">sum</span>(params[np.newaxis, :, :] <span class="op">*</span> params[:, np.newaxis, :], axis <span class="op">=</span> <span class="dv">2</span>)</span>
<span id="cb165-3"><a href="#cb165-3"></a>inner_prd.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="72">
<pre><code>(151, 151)</code></pre>
</div>
</div>
<div id="cell-122" class="cell" data-execution_count="82">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb167-1"><a href="#cb167-1"></a>norms <span class="op">=</span> np.outer(params_norm, params_norm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-123" class="cell" data-execution_count="85">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb168-1"><a href="#cb168-1"></a>cos_norm <span class="op">=</span> inner_prd <span class="op">/</span> norms</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-124" class="cell" data-execution_count="88">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb169-1"><a href="#cb169-1"></a>cos_norm[idx_purin, :<span class="dv">5</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="88">
<pre><code>array([[0.76775866, 0.77831184, 0.78579701, 0.73864701, 0.76838728]])</code></pre>
</div>
</div>
</section>
<section id="q19画像入門" class="level3" data-number="13.15">
<h3 data-number="13.15" class="anchored" data-anchor-id="q19画像入門"><span class="header-section-number">13.15</span> q19:画像入門</h3>
<div id="cell-126" class="cell" data-execution_count="90">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb171-1"><a href="#cb171-1"></a>img <span class="op">=</span> np.zeros((<span class="dv">400</span>, <span class="dv">400</span>), dtype <span class="op">=</span> np.uint8)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-127" class="cell" data-execution_count="91">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb172"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb172-1"><a href="#cb172-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-128" class="cell" data-execution_count="93">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb173-1"><a href="#cb173-1"></a>img[<span class="dv">100</span>:<span class="dv">200</span>, <span class="dv">100</span>:<span class="dv">200</span>] <span class="op">=</span> <span class="dv">255</span></span>
<span id="cb173-2"><a href="#cb173-2"></a>plt.imshow(img, cmap <span class="op">=</span> <span class="st">"gray"</span>, vmin <span class="op">=</span> <span class="dv">0</span>, vmax <span class="op">=</span> <span class="dv">255</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ch03_行列の導入_files/figure-html/cell-91-output-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="cell-129" class="cell" data-execution_count="95">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb174"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb174-1"><a href="#cb174-1"></a>img[<span class="dv">200</span>:<span class="dv">350</span>, <span class="dv">100</span>:<span class="dv">200</span>] <span class="op">=</span> <span class="dv">255</span></span>
<span id="cb174-2"><a href="#cb174-2"></a>plt.imshow(img, cmap <span class="op">=</span> <span class="st">"gray"</span>, vmin <span class="op">=</span> <span class="dv">0</span>, vmax <span class="op">=</span> <span class="dv">255</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ch03_行列の導入_files/figure-html/cell-92-output-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="q20行列積の可換性" class="level3" data-number="13.16">
<h3 data-number="13.16" class="anchored" data-anchor-id="q20行列積の可換性"><span class="header-section-number">13.16</span> q20:行列積の可換性</h3>
<div id="cell-131" class="cell" data-execution_count="96">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb175-1"><a href="#cb175-1"></a>A <span class="op">=</span> np.array([[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>], [<span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>]])</span>
<span id="cb175-2"><a href="#cb175-2"></a>B <span class="op">=</span> np.array([[<span class="op">-</span><span class="dv">4</span>, <span class="op">-</span><span class="dv">3</span>, <span class="op">-</span><span class="dv">2</span>], [<span class="op">-</span><span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>], [<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-132" class="cell" data-execution_count="97">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb176"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb176-1"><a href="#cb176-1"></a>A.dot(B)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="97">
<pre><code>array([[  0,   6,  12],
       [ -9,   6,  21],
       [-18,   6,  30]])</code></pre>
</div>
</div>
<div id="cell-133" class="cell" data-execution_count="98">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb178"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb178-1"><a href="#cb178-1"></a></span>
<span id="cb178-2"><a href="#cb178-2"></a>B.dot(A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="98">
<pre><code>array([[-30, -39, -48],
       [  6,   6,   6],
       [ 42,  51,  60]])</code></pre>
</div>
</div>
</section>
<section id="q22あんこ商店" class="level3" data-number="13.17">
<h3 data-number="13.17" class="anchored" data-anchor-id="q22あんこ商店"><span class="header-section-number">13.17</span> q22:あんこ商店</h3>
<div id="cell-135" class="cell" data-execution_count="103">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb180"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb180-1"><a href="#cb180-1"></a>data_file <span class="op">=</span> <span class="st">"numpy_book/data/anko_shop.npz"</span></span>
<span id="cb180-2"><a href="#cb180-2"></a>anko_sell <span class="op">=</span> np.load(data_file)[<span class="st">"sell"</span>]</span>
<span id="cb180-3"><a href="#cb180-3"></a>anko_sell.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="103">
<pre><code>(100, 4)</code></pre>
</div>
</div>
<div id="cell-136" class="cell" data-execution_count="109">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb182"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb182-1"><a href="#cb182-1"></a>nontax_price <span class="op">=</span> np.diag([<span class="dv">120</span>, <span class="dv">180</span>, <span class="dv">270</span>, <span class="dv">120</span>])</span>
<span id="cb182-2"><a href="#cb182-2"></a>nontax_price</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="109">
<pre><code>array([[ 120,    0,    0,    0],
       [   0,  180,    0,    0],
       [   0,    0,  270,    0],
       [   0,    0,    0, 1200]])</code></pre>
</div>
</div>
<div id="cell-137" class="cell" data-execution_count="111">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb184"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb184-1"><a href="#cb184-1"></a>anko_sell.dot(nontax_price).<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="111">
<pre><code>287970</code></pre>
</div>
</div>
</section>
<section id="q23アファイン変換入門" class="level3" data-number="13.18">
<h3 data-number="13.18" class="anchored" data-anchor-id="q23アファイン変換入門"><span class="header-section-number">13.18</span> q23:アファイン変換入門</h3>
<div id="cell-139" class="cell" data-execution_count="113">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb186"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb186-1"><a href="#cb186-1"></a>character <span class="op">=</span> np.load(<span class="st">"numpy_book/data/ankochan.npz"</span>)[<span class="st">"points"</span>]</span>
<span id="cb186-2"><a href="#cb186-2"></a><span class="bu">print</span>(character.shape)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>(2, 3465)</code></pre>
</div>
</div>
<div id="cell-140" class="cell" data-execution_count="115">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb188"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb188-1"><a href="#cb188-1"></a>fig <span class="op">=</span> plt.figure(figsize <span class="op">=</span> (<span class="dv">10</span>, <span class="dv">8</span>))</span>
<span id="cb188-2"><a href="#cb188-2"></a>ax <span class="op">=</span> fig.gca()</span>
<span id="cb188-3"><a href="#cb188-3"></a>ax.plot(</span>
<span id="cb188-4"><a href="#cb188-4"></a>    character[<span class="dv">0</span>], </span>
<span id="cb188-5"><a href="#cb188-5"></a>    character[<span class="dv">1</span>], </span>
<span id="cb188-6"><a href="#cb188-6"></a>    linewidth <span class="op">=</span> <span class="dv">0</span>, </span>
<span id="cb188-7"><a href="#cb188-7"></a>    markersize <span class="op">=</span> <span class="dv">2</span>, </span>
<span id="cb188-8"><a href="#cb188-8"></a>    marker <span class="op">=</span> <span class="st">"o"</span></span>
<span id="cb188-9"><a href="#cb188-9"></a>)</span>
<span id="cb188-10"><a href="#cb188-10"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ch03_行列の導入_files/figure-html/cell-100-output-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="q24アファイン変換ー回転" class="level3" data-number="13.19">
<h3 data-number="13.19" class="anchored" data-anchor-id="q24アファイン変換ー回転"><span class="header-section-number">13.19</span> q24:アファイン変換ー回転</h3>
<div id="cell-142" class="cell" data-execution_count="121">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb189"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb189-1"><a href="#cb189-1"></a><span class="kw">def</span> gen_pmat(theta):</span>
<span id="cb189-2"><a href="#cb189-2"></a>    c <span class="op">=</span> np.cos(theta)</span>
<span id="cb189-3"><a href="#cb189-3"></a>    s <span class="op">=</span> np.sin(theta)</span>
<span id="cb189-4"><a href="#cb189-4"></a>    <span class="cf">return</span> np.array([c, <span class="op">-</span>s, s, c]).reshape((<span class="dv">2</span>, <span class="dv">2</span>))</span>
<span id="cb189-5"><a href="#cb189-5"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-143" class="cell" data-execution_count="122">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb190"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb190-1"><a href="#cb190-1"></a>thetas <span class="op">=</span> [np.pi <span class="op">/</span> <span class="dv">6</span>, np.pi <span class="op">/</span> <span class="dv">3</span>, np.pi <span class="op">/</span> <span class="dv">2</span>, <span class="dv">4</span> <span class="op">*</span> np.pi <span class="op">/</span> <span class="dv">3</span>]</span>
<span id="cb190-2"><a href="#cb190-2"></a></span>
<span id="cb190-3"><a href="#cb190-3"></a>fig <span class="op">=</span> plt.figure(figsize <span class="op">=</span> (<span class="dv">14</span>, <span class="dv">12</span>))</span>
<span id="cb190-4"><a href="#cb190-4"></a></span>
<span id="cb190-5"><a href="#cb190-5"></a><span class="cf">for</span> i, theta <span class="kw">in</span> <span class="bu">enumerate</span>(thetas):</span>
<span id="cb190-6"><a href="#cb190-6"></a>    rotated_points <span class="op">=</span> np.dot(gen_pmat(theta), character)</span>
<span id="cb190-7"><a href="#cb190-7"></a>    ax <span class="op">=</span> fig.add_subplot(<span class="dv">2</span>, <span class="dv">2</span>, i <span class="op">+</span> <span class="dv">1</span>)</span>
<span id="cb190-8"><a href="#cb190-8"></a>    ax.plot(</span>
<span id="cb190-9"><a href="#cb190-9"></a>        rotated_points[<span class="dv">0</span>], </span>
<span id="cb190-10"><a href="#cb190-10"></a>        rotated_points[<span class="dv">1</span>], </span>
<span id="cb190-11"><a href="#cb190-11"></a>        linewidth <span class="op">=</span> <span class="dv">0</span>, </span>
<span id="cb190-12"><a href="#cb190-12"></a>        markersize <span class="op">=</span> <span class="dv">2</span>, </span>
<span id="cb190-13"><a href="#cb190-13"></a>        marker <span class="op">=</span> <span class="st">"o"</span></span>
<span id="cb190-14"><a href="#cb190-14"></a>    )</span>
<span id="cb190-15"><a href="#cb190-15"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ch03_行列の導入_files/figure-html/cell-102-output-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="q25-せん断変形" class="level3" data-number="13.20">
<h3 data-number="13.20" class="anchored" data-anchor-id="q25-せん断変形"><span class="header-section-number">13.20</span> q25: せん断変形</h3>
<div id="cell-145" class="cell" data-execution_count="125">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb191"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb191-1"><a href="#cb191-1"></a><span class="kw">def</span> gen_skewmat(theta):</span>
<span id="cb191-2"><a href="#cb191-2"></a>    t <span class="op">=</span> np.tan(theta)</span>
<span id="cb191-3"><a href="#cb191-3"></a>    <span class="cf">return</span> np.array([<span class="dv">1</span>, <span class="dv">0</span>, t, <span class="dv">1</span>]).reshape((<span class="dv">2</span>, <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-146" class="cell" data-execution_count="126">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb192"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb192-1"><a href="#cb192-1"></a>thetas <span class="op">=</span> [np.pi <span class="op">/</span> <span class="dv">6</span>, np.pi <span class="op">/</span> <span class="dv">3</span>, np.pi <span class="op">/</span> <span class="dv">2</span>, <span class="dv">4</span> <span class="op">*</span> np.pi <span class="op">/</span> <span class="dv">3</span>]</span>
<span id="cb192-2"><a href="#cb192-2"></a></span>
<span id="cb192-3"><a href="#cb192-3"></a>fig <span class="op">=</span> plt.figure(figsize <span class="op">=</span> (<span class="dv">14</span>, <span class="dv">12</span>))</span>
<span id="cb192-4"><a href="#cb192-4"></a></span>
<span id="cb192-5"><a href="#cb192-5"></a><span class="cf">for</span> i, theta <span class="kw">in</span> <span class="bu">enumerate</span>(thetas):</span>
<span id="cb192-6"><a href="#cb192-6"></a>    rotated_points <span class="op">=</span> np.dot(gen_skewmat(theta), character)</span>
<span id="cb192-7"><a href="#cb192-7"></a>    ax <span class="op">=</span> fig.add_subplot(<span class="dv">2</span>, <span class="dv">2</span>, i <span class="op">+</span> <span class="dv">1</span>)</span>
<span id="cb192-8"><a href="#cb192-8"></a>    ax.plot(</span>
<span id="cb192-9"><a href="#cb192-9"></a>        rotated_points[<span class="dv">0</span>], </span>
<span id="cb192-10"><a href="#cb192-10"></a>        rotated_points[<span class="dv">1</span>], </span>
<span id="cb192-11"><a href="#cb192-11"></a>        linewidth <span class="op">=</span> <span class="dv">0</span>, </span>
<span id="cb192-12"><a href="#cb192-12"></a>        markersize <span class="op">=</span> <span class="dv">2</span>, </span>
<span id="cb192-13"><a href="#cb192-13"></a>        marker <span class="op">=</span> <span class="st">"o"</span></span>
<span id="cb192-14"><a href="#cb192-14"></a>    )</span>
<span id="cb192-15"><a href="#cb192-15"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="ch03_行列の導入_files/figure-html/cell-104-output-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>


</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    const typesetMath = (el) => {
      if (window.MathJax) {
        // MathJax Typeset
        window.MathJax.typeset([el]);
      } else if (window.katex) {
        // KaTeX Render
        var mathElements = el.getElementsByClassName("math");
        var macros = [];
        for (var i = 0; i < mathElements.length; i++) {
          var texText = mathElements[i].firstChild;
          if (mathElements[i].tagName == "SPAN") {
            window.katex.render(texText.data, mathElements[i], {
              displayMode: mathElements[i].classList.contains('display'),
              throwOnError: false,
              macros: macros,
              fleqn: false
            });
          }
        }
      }
    }
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        typesetMath(container);
        return container.innerHTML
      } else {
        typesetMath(note);
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      typesetMath(note);
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation column-body">
  <div class="nav-page nav-page-previous">
      <a href="../../../contents/books/07_NumpyInfinity/ch02_numpyの導入.html" class="pagination-link  aria-label=" numpyの導入"="">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">numpyの導入</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../../contents/books/07_NumpyInfinity/ch04_テンソルと画像処理.html" class="pagination-link" aria-label="テンソルと画像処理">
        <span class="nav-page-text">テンソルと画像処理</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>